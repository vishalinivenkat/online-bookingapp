{"version":3,"file":"src_app_pages_details_details_module_ts.js","mappings":"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","sources":["./src/app/pages/details/details-routing.module.ts","./src/app/pages/details/details.module.ts","./src/app/pages/details/details.page.ts","./src/app/pages/details/details.page.html","./src/app/services/image-upload.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailsPage } from './details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailsPageRoutingModule } from './details-routing.module';\nimport { DetailsPage } from './details.page';\nimport { initializeApp, provideFirebaseApp } from '@angular/fire/app';\nimport { getAuth, provideAuth } from '@angular/fire/auth';\nimport { environment } from 'src/environments/environment';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetailsPageRoutingModule,\n    ReactiveFormsModule,\n    provideFirebaseApp(() => initializeApp(environment.firebase)),\n    provideAuth(() => getAuth())\n  ],\n  declarations: [DetailsPage]\n})\nexport class DetailsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Auth, updateEmail, updateProfile, User, GoogleAuthProvider, signInWithPopup, RecaptchaVerifier, PhoneAuthProvider, reauthenticateWithCredential, signInWithPhoneNumber } from '@angular/fire/auth';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { AvatarService } from 'src/app/services/avatar.service';\nimport { OverlayService } from 'src/app/services/overlay.service';\nimport { Camera, CameraResultType, CameraSource, Photo } from '@capacitor/camera';\nimport { ActionSheetController, AlertController, LoadingController, Platform } from '@ionic/angular';\nimport { ImageUploadService } from 'src/app/services/image-upload.service'; // Import the service\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.page.html',\n  styleUrls: ['./details.page.scss'],\n})\nexport class DetailsPage implements OnInit {\n\n  form: FormGroup;\n  imageUrl: string;\n  approve: boolean;\n  approve2: boolean;\n  user: User;\n  backButtonSubscription: any;\n\n  constructor(\n    private overlay: OverlayService,\n    private authy: Auth,\n    private authService: AuthService,\n    private avatar: AvatarService,\n    private router: Router,\n    private actionSheetController: ActionSheetController,\n    private alertController: AlertController,\n    private imageUploadService: ImageUploadService, // Inject the service\n    private loadingController: LoadingController,\n    private platform: Platform\n  ) {\n    // Ensure the user is authenticated\n    this.authy.onAuthStateChanged((user) => {\n      if (user) {\n        this.user = user;\n        this.avatar.profile = user; // Ensure the profile is set\n        this.form.patchValue({\n          fullname: user.displayName?.split(' ')[0] || '',\n          lastname: user.displayName?.split(' ')[1] || '',\n          email: user.email || ''\n        });\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.form = new FormGroup({\n      fullname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      lastname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      email: new FormControl(null, {\n        validators: [Validators.required, Validators.email, Validators.maxLength(200)]\n      })\n    });\n  }\n\n  async changeImage(source: CameraSource) {\n    try {\n      const image = await Camera.getPhoto({\n        quality: 90,\n        allowEditing: false,\n        resultType: CameraResultType.Base64,\n        source: source,\n      });\n  \n      if (image) {\n        const loading = await this.loadingController.create();\n        await loading.present();\n  \n        if (!this.avatar.profile?.uid) {\n          loading.dismiss();\n          const alert = await this.alertController.create({\n            header: 'Upload failed',\n            message: 'Profile UID is missing.',\n            buttons: ['OK'],\n          });\n          await alert.present();\n          return;\n        }\n  \n        try {\n          const result = await this.avatar.uploadImage(image, this.avatar.profile.uid);\n          loading.dismiss();\n  \n          if (!result) {\n            const alert = await this.alertController.create({\n              header: 'Upload failed',\n              message: 'There was a problem uploading your avatar.',\n              buttons: ['OK'],\n            });\n            await alert.present();\n          } else {\n            this.imageUrl = result; // Ensure imageUrl is updated\n            const alert = await this.alertController.create({\n              header: 'Upload Successful',\n              message: 'Your avatar has been successfully uploaded.',\n              buttons: ['OK'],\n            });\n            await alert.present();\n          }\n        } catch (uploadError) {\n          loading.dismiss();\n          if (uploadError.message.includes('Photo URL is required and must be less than 1000 characters')) {\n            const alert = await this.alertController.create({\n              header: 'Upload failed',\n              message: 'The image is too big. Please try another image with a smaller size.',\n              buttons: ['OK'],\n            });\n            await alert.present();\n          } else {\n            const alert = await this.alertController.create({\n              header: 'Upload failed',\n              message: `There was a problem uploading your avatar: ${uploadError.message}`,\n              buttons: ['OK'],\n            });\n            await alert.present();\n          }\n        }\n      }\n    } catch (error) {\n      const alert = await this.alertController.create({\n        header: 'Upload failed',\n        message: `There was a problem uploading your avatar: ${error.message}`,\n        buttons: ['OK'],\n      });\n      await alert.present();\n    }\n  }\n\n\n  initializeBackButtonCustomHandler() {\n    this.backButtonSubscription = this.platform.backButton.subscribeWithPriority(10, () => {\n      this.handleBackButton();\n    });\n  }\n\n  async handleBackButton() {\n    try {\n        await this.showExitConfirmation();\n    } catch (error) {\n      console.error('Error handling back button:', error);\n    }\n  }\n\n  async showExitConfirmation() {\n    const alert = await this.alertController.create({\n      header: 'Exit App',\n      message: 'Are you sure you want to exit the app?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        },\n        {\n          text: 'Exit',\n          handler: () => {\n            navigator['app'].exitApp();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n  \n\n\n  async presentImageSourceActionSheet() {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Select Image Source',\n      buttons: [\n        {\n          text: 'Camera',\n          icon: 'camera',\n          handler: () => {\n            this.changeImage(CameraSource.Camera);\n          }\n        },\n        {\n          text: 'Gallery',\n          icon: 'images',\n          handler: () => {\n            this.changeImage(CameraSource.Photos);\n          }\n        },\n        {\n          text: 'File',\n          icon: 'document',\n          handler: () => {\n            this.selectFile();\n          }\n        },\n        {\n          text: 'Cancel',\n          icon: 'close',\n          role: 'cancel'\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n\n\n  async selectFile() {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.onchange = async (event: any) => {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = async (e: any) => {\n          const image = {\n            base64String: e.target.result.split(',')[1]\n          };\n  \n\n          const result = await this.avatar.uploadImage(image as Photo, this.avatar.profile.uid);\n  \n          if (!result) {\n            const alert = await this.alertController.create({\n              header: 'Upload failed',\n              message: 'There was a problem uploading your avatar.',\n              buttons: ['OK'],\n            });\n            await alert.present();\n          } else {\n            this.imageUrl = result; // Ensure imageUrl is updated\n            // const alert = await this.alertController.create({\n            //   header: 'Upload Successful',\n            //   message: 'Your avatar has been successfully uploaded.',\n            //   buttons: ['OK'],\n            // });\n            // await alert.present();\n          }\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n    input.click();\n  }\n  \n\n  async reauthenticateWithPhoneNumber(): Promise<void> {\n    return new Promise<void>(async (resolve, reject) => {\n      try {\n        const user = this.authy.currentUser;\n        if (!user) throw new Error('User not authenticated');\n  \n        console.log('Creating reCAPTCHA container');\n        const recaptchaContainerId = 'recaptcha-container';\n        let recaptchaContainer = document.getElementById(recaptchaContainerId);\n        if (!recaptchaContainer) {\n          recaptchaContainer = document.createElement('div');\n          recaptchaContainer.id = recaptchaContainerId;\n          document.body.appendChild(recaptchaContainer);\n        } else {\n          recaptchaContainer.innerHTML = ''; // Clear any existing content\n        }\n  \n        console.log('Initializing reCAPTCHA verifier');\n        const recaptchaVerifier = new RecaptchaVerifier(recaptchaContainerId, {}, this.authy);\n        const phoneNumber = user.phoneNumber;\n  \n        if (!phoneNumber) {\n          throw new Error('User phone number is missing');\n        }\n  \n        let verificationResult;\n        try {\n          console.log('Attempting to sign in with phone number');\n          verificationResult = await signInWithPhoneNumber(this.authy, phoneNumber, recaptchaVerifier);\n          console.log('Verification result:', verificationResult);\n        } catch (error) {\n          console.error('Error during signInWithPhoneNumber', error);\n          this.overlay.showAlert('Error', 'An error occurred during phone number sign-in');\n          reject(error);\n          return;\n        }\n  \n        if (!verificationResult.verificationId) {\n          throw new Error('Verification ID is missing in the verification result');\n        }\n  \n        const storedOTP = localStorage.getItem('defaultOTP');\n        const userVerificationCode = storedOTP;\n        console.log(\"This is number: \" + userVerificationCode)\n  \n        console.log('Prompting user for verification code');\n        const alert = await this.alertController.create({\n          header: 'Verification',\n          inputs: [\n            {\n              name: 'verificationCode',\n              type: 'text',\n              placeholder: 'Enter verification code',\n              value: userVerificationCode // Set default value if isRandom is true\n            }\n          ],\n          buttons: [\n            {\n              text: 'Cancel',\n              role: 'cancel',\n              handler: () => {\n                console.log('Verification cancelled');\n                reject(new Error('Verification cancelled'));\n              }\n            },\n            {\n              text: 'Verify',\n              handler: async (data) => {\n                const verificationCode = data.verificationCode;\n                if (!verificationCode) {\n                  reject(new Error('Verification code is required'));\n                  return;\n                }\n                try {\n                  console.log('Attempting to verify phone number with verification code');\n                  const phoneCredential = PhoneAuthProvider.credential(verificationResult.verificationId, verificationCode);\n                  await reauthenticateWithCredential(user, phoneCredential);\n                  localStorage.removeItem('defaultOTP');\n                  await this.updateProfile();\n                  console.log('User re-authenticated with phone number');\n                  resolve();\n                } catch (error) {\n                  console.error('Error verifying phone number', error);\n                  reject(error);\n                }\n              }\n            }\n          ]\n        });\n        await alert.present();\n  \n      } catch (error) {\n        console.error('Error during phone re-authentication', error);\n        this.overlay.showAlert('Error', error.message || 'An error occurred during phone re-authentication');\n        reject(error);\n      }\n    });\n  }\n  \n  \n  \n  \n\n  async updateProfile() {\n    try {\n      if (!this.form.valid) {\n        this.form.markAllAsTouched();\n        return;\n      }\n      this.approve2 = true;\n  \n      const user = this.authy.currentUser;\n      if (user) {\n        console.log('User authenticated', user);\n  \n        if (!this.imageUrl || this.imageUrl.length > 1000) {\n          throw new Error('Photo URL is required and must be less than 1000 characters');\n        }\n  \n        console.log('Updating email...');\n        await updateEmail(user, this.form.value.email);\n        console.log('Email updated');\n  \n        console.log('Updating profile...');\n        await updateProfile(user, {\n          displayName: `${this.form.value.fullname} ${this.form.value.lastname}`,\n          photoURL: this.imageUrl,\n        });\n        await this.avatar.createUser(`${this.form.value.fullname} ${this.form.value.lastname}`, this.form.value.email, this.imageUrl, user.phoneNumber, user.uid)\n        console.log('Profile updated');\n  \n        this.approve2 = false;\n        this.router.navigateByUrl('home');\n        console.log('Uploaded');\n      }\n    } catch (e: any) {\n      console.error('An error occurred during profile update', e);\n      this.approve2 = false;\n      if (e.code === 'auth/email-already-in-use') {\n        this.overlay.showAlert('Error', 'The email address is already in use by another account.');\n      } else if (e.code === 'auth/requires-recent-login') {\n        this.reauthenticateWithPhoneNumber();\n      } else {\n        this.overlay.showAlert('Error', e.message || 'An error occurred');\n      }\n    }\n  }\n  \n  \n  \n  \n  \n  \n  \n\n  async signInWithGoogle() {\n    try {\n      const provider = new GoogleAuthProvider();\n      const result = await signInWithPopup(this.authy, provider);\n      const user = result.user;\n  \n      if (user) {\n        this.imageUrl = user.photoURL || ''; // Update imageUrl with photoURL from Google\n  \n        this.form.patchValue({\n          fullname: user.displayName?.split(' ')[0] || '',\n          lastname: user.displayName?.split(' ')[1] || '',\n          email: user.email || ''\n        });\n  \n        console.log(\"User signed in with Google\", user);\n        console.log(\"Email:\", user.email);\n        console.log(\"Display Name:\", user.displayName);\n        console.log(\"Photo URL:\", user.photoURL);\n  \n        // Call updateProfile to update user details in Firebase\n        await this.updateProfile();\n      }\n    } catch (error) {\n      console.error(\"Error during Google sign-in\", error);\n      this.overlay.showAlert('Sign-in failed', 'There was a problem signing in with Google.');\n    }\n  }\n  \n  \n\n}\n","<ion-header [translucent]=\"true\" class=\"ion-no-border ion-padding\">\n  <ion-list>\n    <ion-list-header class=\"ion-padding-top\">\n      <ion-label color=\"primary\" class=\"ion-text-center\">\n        <h1>Personal Info</h1>\n      </ion-label>\n    </ion-list-header>\n  \n    <ion-item-group class=\"ion-margin-horizontal\">\n      <div class=\"preview\">\n        <ion-avatar (click)=\"presentImageSourceActionSheet()\">\n          <img *ngIf=\"imageUrl; else placeholder_avatar;\" [src]=\"imageUrl\" />\n          <ng-template #placeholder_avatar>\n            <div class=\"fallback\">\n              <p *ngIf=\"!approve2\">Select avatar</p>\n              <ion-progress-bar *ngIf=\"approve2\" color='light' type=\"indeterminate\"></ion-progress-bar>\n            </div>\n          </ng-template>\n        </ion-avatar>\n      </div>\n\n\n      <form [formGroup]=\"form\">\n\n        <div class=\"ion-margin-vertical\">\n          <ion-item class=\"ion-margin\">\n            <ion-input \n              formControlName=\"fullname\" \n              placeholder=\"First Name\" \n              type=\"text\"\n              minlength=\"1\"\n              maxlength=\"200\">\n            </ion-input>\n          </ion-item>\n\n          <ion-item class=\"ion-margin\">\n            <ion-input \n              formControlName=\"lastname\" \n              placeholder=\"Last Name\" \n              type=\"text\"\n              minlength=\"1\"\n              maxlength=\"200\">\n            </ion-input>\n          </ion-item>\n\n          <ion-item class=\"ion-margin\">\n            <ion-input \n              formControlName=\"email\" \n              placeholder=\"Your Email\" \n              type=\"email\"\n              minlength=\"1\"\n              maxlength=\"200\">\n            </ion-input>\n          </ion-item>\n        </div>\n\n      </form>\n\n      <!-- Placeholder for reCAPTCHA -->\n      <div id=\"recaptcha-container\"></div>\n\n      <ion-button shape=\"round\" size=\"large\" type=\"submit\" [disabled]=\"!form.valid\" color=\"primary\" (click)=\"updateProfile()\" expand=\"block\">\n        <ion-label *ngIf=\"!approve2\">Continue</ion-label>\n        <ion-icon *ngIf=\"!approve2\" color='light' slot=\"end\" name=\"arrow-forward\"></ion-icon>\n        <ion-progress-bar *ngIf=\"approve2\" color='light' type=\"indeterminate\"></ion-progress-bar>\n      </ion-button>\n\n      <!-- <ion-button shape=\"round\" size=\"large\" color=\"secondary\" (click)=\"signInWithGoogle()\" expand=\"block\">\n        <ion-icon slot=\"start\" name=\"logo-google\"></ion-icon>\n        <ion-label>Sign in with Google</ion-label>\n      </ion-button> -->\n\n    </ion-item-group>\n  </ion-list>\n</ion-header>\n\n<ion-content class=\"ion-no-border\">\n  <ion-list class=\"ion-no-padding\" lines=\"none\">\n  </ion-list>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { Storage } from '@angular/fire/storage';\nimport { getDownloadURL, ref, uploadString } from 'firebase/storage';\nimport { Photo } from '@capacitor/camera';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ImageUploadService {\n  constructor(\n    private storage: Storage\n  ) { }\n\n  async uploadImage(image: Photo): Promise<string> {\n    const path = `images/${new Date().getTime()}.jpg`;\n    const storageRef = ref(this.storage, path);\n    const uploadResult = await uploadString(storageRef, image.base64String, 'base64');\n\n    return getDownloadURL(uploadResult.ref);\n  }\n}\n"],"names":["updateEmail","updateProfile","GoogleAuthProvider","signInWithPopup","RecaptchaVerifier","PhoneAuthProvider","reauthenticateWithCredential","signInWithPhoneNumber","FormControl","FormGroup","Validators","Camera","CameraResultType","CameraSource","i0","DetailsPage","constructor","overlay","authy","authService","avatar","router","actionSheetController","alertController","imageUploadService","loadingController","platform","onAuthStateChanged","user","profile","form","patchValue","fullname","displayName","split","lastname","email","ngOnInit","validators","required","minLength","maxLength","changeImage","source","image","getPhoto","quality","allowEditing","resultType","Base64","loading","create","present","uid","dismiss","alert","header","message","buttons","result","uploadImage","imageUrl","uploadError","includes","error","initializeBackButtonCustomHandler","backButtonSubscription","backButton","subscribeWithPriority","handleBackButton","showExitConfirmation","console","text","role","handler","navigator","exitApp","presentImageSourceActionSheet","actionSheet","icon","Photos","selectFile","input","document","createElement","type","accept","onchange","event","file","target","files","reader","FileReader","onload","e","base64String","readAsDataURL","click","reauthenticateWithPhoneNumber","Promise","resolve","reject","currentUser","Error","log","recaptchaContainerId","recaptchaContainer","getElementById","id","body","appendChild","innerHTML","recaptchaVerifier","phoneNumber","verificationResult","showAlert","verificationId","storedOTP","localStorage","getItem","userVerificationCode","inputs","name","placeholder","value","data","verificationCode","phoneCredential","credential","removeItem","valid","markAllAsTouched","approve2","length","photoURL","createUser","navigateByUrl","code","signInWithGoogle","provider","selectors","decls","vars","consts","template","ctx","_r1","getDownloadURL","ref","uploadString","ImageUploadService","storage","path","Date","getTime","storageRef","uploadResult","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}