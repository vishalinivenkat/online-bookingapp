{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/login/login.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [LoginPage],\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController, ModalController, ModalOptions, NavController, Platform } from '@ionic/angular';\nimport { OtpComponent } from '../otp/otp.component';\nimport { AuthService } from '../services/auth.service';\nimport { environment } from '../../environments/environment';\nimport { OverlayService } from '../services/overlay.service';\nimport { Auth, RecaptchaVerifier } from '@angular/fire/auth';\nimport { StatusBar } from '@capacitor/status-bar';\nimport { AvatarService } from '../services/avatar.service';\nimport { SplashScreen } from '@capacitor/splash-screen';\nimport { CountrySearchModalComponent } from '../country-search-modal/country-search-modal.component';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  form: FormGroup;\n  CountryCode: any;\n  CountryJson = environment.CountryJson;\n  flag: any = \"https://cdn.kcak11.com/CountryFlags/countries/ng.svg\";\n  filteredCountries = [];\n  user: any;\n  approve: boolean;\n  approve2: boolean;\n  recaptchaVerifier: RecaptchaVerifier;\n\n  slideOpts = {\n    initialSlide: 0,\n    speed: 300,\n    autoplay: true\n  };\n\n  numberT: string;\n  backButtonSubscription: any;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private auth: AuthService,\n    private router: Router,\n    private nav: NavController,\n    private authY: Auth,\n    private avatar: AvatarService,\n    private overlay: OverlayService,\n    private alertController: AlertController,\n    private platform: Platform\n  ) {\n    this.CountryCode = '+234';\n    this.numberT = '+234';\n  }\n\n  ngOnInit() {\n    this.form = new FormGroup({\n      phone: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(10), Validators.maxLength(10)]\n      }),\n    });\n\n    this.filteredCountries = this.CountryJson;\n\n    // Initialize ReCaptcha verifier\n    this.recaptchaVerifier = new RecaptchaVerifier('sign-in-button', {\n      'size': 'invisible',\n      'callback': (response) => {\n        // reCAPTCHA solved - allow signIn\n        this.signIn();\n      },\n      'expired-callback': () => {\n        // Response expired - handle expired reCAPTCHA\n      }\n    }, this.authY);\n    this.initializeBackButtonCustomHandler(); // Initialize back button handler\n  }\n\n  async HideSplash() {\n    await SplashScreen.hide();\n  }\n\n  async openCountrySearchModal() {\n    const modal = await this.modalCtrl.create({\n      component: CountrySearchModalComponent\n    });\n\n    await modal.present();\n\n    const { data } = await modal.onWillDismiss();\n    if (data) {\n      this.CountryCode = data.dialCode;\n      this.numberT = data.dialCode;\n    }\n  }\n\n  filterCountries(event: any) {\n    const searchTerm = event.target.value.toLowerCase();\n    this.filteredCountries = this.CountryJson.filter(country =>\n      country.name.toLowerCase().includes(searchTerm) ||\n      country.dialCode.includes(searchTerm)\n    );\n  }\n\n  countryCodeChange($event) {\n    this.CountryCode = '';\n    this.numberT = $event.detail.value.toString();\n  }\n\n  async Show() {\n    await StatusBar.setOverlaysWebView({ overlay: false });\n  }\n\n  async Hide() {\n    await StatusBar.setOverlaysWebView({ overlay: true });\n  }\n\n  async signIn() {\n      try {\n        if (!this.form.valid) {\n          this.form.markAllAsTouched();\n          return;\n        }\n        console.log('Form Value:', this.form.value);\n        this.overlay.showLoader('');\n  \n        const fullPhoneNumber = this.numberT + this.form.value.phone;\n        console.log('Attempting to sign in with phone number:', fullPhoneNumber);\n  \n        // Use AuthService to handle sign-in with phone number\n        const confirmationResult = await this.auth.signInWithPhoneNumber(fullPhoneNumber);\n  \n\n        console.log('Confirmation Result:', confirmationResult);\n        \n       \n        let storedOTP = localStorage.getItem('defaultOTP');\n        if (!storedOTP){\n          storedOTP = '';\n        }\n\n        this.overlay.hideLoader();\n  \n        const options: ModalOptions = {\n          component: OtpComponent,\n          componentProps: {\n            defaultOtp: storedOTP,  // Pass the default OTP to the OTP component\n            phone: this.form.value.phone,\n            countryCode: this.numberT,\n            confirmationResult: confirmationResult\n          },\n          swipeToClose: true\n        };\n  \n        const modal = await this.modalCtrl.create(options);\n        await modal.present();\n        const data: any = await modal.onWillDismiss();\n        console.log('OTP Modal Dismissed:', data);\n  \n        this.authY.onAuthStateChanged(async (user) => {\n          if (user) {\n            console.log('User Authenticated:', user);\n            const isDriver = await this.avatar.getUserType(user.uid);\n            console.log('User Type:', isDriver ? 'Driver' : 'Rider');\n            this.overlay.hideLoader();\n            if (isDriver) {\n              this.overlay.showAlert('Error', 'Riders cannot log in as drivers.');\n              await this.authY.signOut();\n              this.approve2 = false;\n              this.overlay.hideLoader();\n            } else {\n              console.log('User Profile Data:', data);\n              if (!user.email) {\n                console.log('Navigating to details page');\n                this.router.navigateByUrl('details');\n                this.approve2 = false;\n                this.overlay.hideLoader();\n              } else {\n                console.log('Navigating to home page');\n                this.router.navigateByUrl('home');\n                this.approve2 = false;\n                this.overlay.hideLoader();\n              }\n              this.overlay.hideLoader();\n            }\n          }\n        });\n      } catch (e) {\n        console.error('Error during signIn:', e);\n        //if (e.code === 'auth/invalid-app-credential' || e.code === 'auth/too-many-requests') {\n          this.CountryCode = '+234';\n          this.numberT = '+234';\n          const defaultNumbers = ['9060427830', '9060427830'];\n          const randomDefaultNumber = defaultNumbers[Math.floor(Math.random() * defaultNumbers.length)];\n          this.form.controls['phone'].setValue(randomDefaultNumber);\n          localStorage.setItem('defaultOTP', '123456');\n          this.overlay.showAlert('Daily SMS Limit Reached', `The daily SMS limit has been reached. Please use the default number +234:${randomDefaultNumber}`);\n        // } else {\n        //   this.overlay.showAlert('Error', `Error during sign-in: ${e.message || JSON.stringify(e)}`);\n        // }\n        this.overlay.hideLoader();\n        this.approve2 = false;\n      }\n    \n  }\n\n  initializeBackButtonCustomHandler() {\n    this.backButtonSubscription = this.platform.backButton.subscribeWithPriority(10, () => {\n      this.handleBackButton();\n    });\n  }\n\n  async handleBackButton() {\n    try {\n        await this.showExitConfirmation();\n    } catch (error) {\n      console.error('Error handling back button:', error);\n    }\n  }\n\n  async showExitConfirmation() {\n    const alert = await this.alertController.create({\n      header: 'Exit App',\n      message: 'Are you sure you want to exit the app?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        },\n        {\n          text: 'Exit',\n          handler: () => {\n            navigator['app'].exitApp();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n}\n","<ion-header [translucent]=\"true\" class=\"ion-no-border\">\n  <ion-list lines=\"none\">\n    <ion-list-header class=\"ion-padding\">\n      <ion-label color=\"primary\" class=\"ion-text-center\">\n        <h1>PANA RIDER</h1>\n        <p>Ride With Confidence and integrity</p>\n      </ion-label>\n    </ion-list-header>\n  </ion-list>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-slides pager=\"true\" [options]=\"slideOpts\">\n    <ion-slide>\n      <ion-img src=\"../assets/imgs/main.svg\"></ion-img>\n    </ion-slide>\n    <ion-slide>\n      <ion-img src=\"../assets/imgs/main1.svg\"></ion-img>\n    </ion-slide>\n    <ion-slide>\n      <ion-img src=\"../assets/imgs/main2.svg\"></ion-img>\n    </ion-slide>\n  </ion-slides>\n  <ion-row class=\"ion-no-padding\">\n    <ion-list class=\"ion-no-padding\">\n      <ion-item-group class=\"ion-margin-horizontal\">\n        <form [formGroup]=\"form\" class=\"ion-padding\">\n          <div id=\"sign-in-button\"></div>\n          <div class=\"ion-margin-vertical\">\n            <ion-item lines=\"none\">\n              <ion-button shape='round' size=\"large\" (click)=\"openCountrySearchModal()\" slot=\"start\">\n                {{ CountryCode || 'Select Country' }}\n              </ion-button>\n              <ion-input label=\"Outline input\" label-placement=\"floating\" fill=\"outline\"\n                formControlName=\"phone\"\n                placeholder=\"Mobile Number\"\n                type=\"tel\"\n                clearInput\n                minlength=\"10\"\n                maxlength=\"10\"\n                (ionFocus)=\"Show()\"\n                (ionBlur)=\"Hide()\">\n              </ion-input>\n            </ion-item>\n            <ion-text class=\"ion-text-center\" *ngIf=\"!form.get('phone').valid && form.get('phone').touched\">\n              <ion-text class=\"error\" *ngIf=\"form.get('phone').hasError('required')\" color=\"danger\">\n                * Please enter the Mobile Number\n              </ion-text>\n              <ion-text class=\"error\" *ngIf=\"form.get('phone').hasError('minlength') && !form.get('phone').hasError('required')\" color=\"danger\">\n                * Please enter a valid Mobile Number\n              </ion-text>\n            </ion-text>\n          </div>\n          <ion-button shape='round' size=\"large\" type=\"submit\" [disabled]=\"!form.get('phone').valid\" color=\"primary\" (click)=\"signIn()\" expand=\"block\">\n            <ion-label *ngIf=\"!approve2\">Continue</ion-label>\n            <ion-icon *ngIf=\"!approve2\" color='light' slot=\"end\" name=\"arrow-forward\"></ion-icon>\n            <ion-progress-bar *ngIf=\"approve2\" color='light' type=\"indeterminate\"></ion-progress-bar>\n          </ion-button>\n        </form>\n      </ion-item-group>\n    </ion-list>\n  </ion-row>\n\n\n</ion-content>\n<ion-footer>\n  <!-- Add this at the end of your template -->\n  <div id=\"recaptcha-container\"></div>\n</ion-footer>"],"names":["FormControl","FormGroup","Validators","OtpComponent","environment","RecaptchaVerifier","StatusBar","SplashScreen","CountrySearchModalComponent","i0","LoginPage","constructor","modalCtrl","auth","router","nav","authY","avatar","overlay","alertController","platform","CountryJson","initialSlide","speed","autoplay","CountryCode","numberT","ngOnInit","form","phone","validators","required","minLength","maxLength","filteredCountries","recaptchaVerifier","response","signIn","initializeBackButtonCustomHandler","HideSplash","hide","openCountrySearchModal","modal","create","component","present","data","onWillDismiss","dialCode","filterCountries","event","searchTerm","target","value","toLowerCase","filter","country","name","includes","countryCodeChange","$event","detail","toString","Show","setOverlaysWebView","Hide","valid","markAllAsTouched","console","log","showLoader","fullPhoneNumber","confirmationResult","signInWithPhoneNumber","storedOTP","localStorage","getItem","hideLoader","options","componentProps","defaultOtp","countryCode","swipeToClose","onAuthStateChanged","user","isDriver","getUserType","uid","showAlert","signOut","approve2","email","navigateByUrl","e","error","defaultNumbers","randomDefaultNumber","Math","floor","random","length","controls","setValue","setItem","backButtonSubscription","backButton","subscribeWithPriority","handleBackButton","showExitConfirmation","alert","header","message","buttons","text","role","handler","navigator","exitApp","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}