{"version":3,"file":"src_app_home_home_module_ts.js","mappings":"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","sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.ts","./src/app/home/home.page.html","./src/app/one-signal.service.ts","./src/app/services/geocode.service.ts","./src/app/services/map.service.ts","./src/app/services/network.service.ts","./node_modules/@capacitor/geolocation/dist/esm/index.js","./node_modules/@capacitor/google-maps/dist/esm/definitions.js","./node_modules/@capacitor/google-maps/dist/esm/implementation.js","./node_modules/@capacitor/google-maps/dist/esm/index.js","./node_modules/@capacitor/google-maps/dist/esm/map.js","./node_modules/@capacitor/preferences/dist/esm/index.js","./node_modules/onesignal-cordova-plugin/dist/DebugNamespace.js","./node_modules/onesignal-cordova-plugin/dist/InAppMessagesNamespace.js","./node_modules/onesignal-cordova-plugin/dist/LiveActivitiesNamespace.js","./node_modules/onesignal-cordova-plugin/dist/LocationNamespace.js","./node_modules/onesignal-cordova-plugin/dist/NotificationReceivedEvent.js","./node_modules/onesignal-cordova-plugin/dist/NotificationsNamespace.js","./node_modules/onesignal-cordova-plugin/dist/OSNotification.js","./node_modules/onesignal-cordova-plugin/dist/PushSubscriptionNamespace.js","./node_modules/onesignal-cordova-plugin/dist/SessionNamespace.js","./node_modules/onesignal-cordova-plugin/dist/UserNamespace.js","./node_modules/onesignal-cordova-plugin/dist/index.js","./node_modules/rxjs/_esm2015/internal/observable/interval.js","./node_modules/rxjs/internal/InnerSubscriber.js","./node_modules/rxjs/internal/Observable.js","./node_modules/rxjs/internal/Observer.js","./node_modules/rxjs/internal/OuterSubscriber.js","./node_modules/rxjs/internal/Subscriber.js","./node_modules/rxjs/internal/Subscription.js","./node_modules/rxjs/internal/config.js","./node_modules/rxjs/internal/operators/catchError.js","./node_modules/rxjs/internal/symbol/iterator.js","./node_modules/rxjs/internal/symbol/observable.js","./node_modules/rxjs/internal/symbol/rxSubscriber.js","./node_modules/rxjs/internal/util/UnsubscriptionError.js","./node_modules/rxjs/internal/util/canReportError.js","./node_modules/rxjs/internal/util/hostReportError.js","./node_modules/rxjs/internal/util/identity.js","./node_modules/rxjs/internal/util/isArray.js","./node_modules/rxjs/internal/util/isArrayLike.js","./node_modules/rxjs/internal/util/isFunction.js","./node_modules/rxjs/internal/util/isObject.js","./node_modules/rxjs/internal/util/isPromise.js","./node_modules/rxjs/internal/util/pipe.js","./node_modules/rxjs/internal/util/subscribeTo.js","./node_modules/rxjs/internal/util/subscribeToArray.js","./node_modules/rxjs/internal/util/subscribeToIterable.js","./node_modules/rxjs/internal/util/subscribeToObservable.js","./node_modules/rxjs/internal/util/subscribeToPromise.js","./node_modules/rxjs/internal/util/subscribeToResult.js","./node_modules/rxjs/internal/util/toSubscriber.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\nimport { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\n\nimport { HomePageRoutingModule } from './home-routing.module';\nimport { StorageModule } from '@angular/fire/storage';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    StorageModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { AfterViewInit, Component, ElementRef, NgZone, ViewChild } from '@angular/core';\nimport { Geolocation, Position } from '@capacitor/geolocation';\nimport { ModalOptions, ModalController, Platform, NavController, AlertController, ToastController, ActionSheetController } from '@ionic/angular';\nimport { AutocompleteComponent } from '../autocomplete/autocomplete.component';\nimport { OverlayService } from '../services/overlay.service';\nimport { GeocodeService } from '../services/geocode.service';\nimport { MapService } from '../services/map.service';\nimport { AvatarService } from '../services/avatar.service';\nimport { Drivers } from '../interfaces/drivers';\nimport { Observable, timer, interval, BehaviorSubject, throwError, Subscription } from 'rxjs';\nimport { Firestore, onSnapshot, doc, updateDoc, getDoc, collection, setDoc, serverTimestamp } from '@angular/fire/firestore';\nimport { Marker, Polyline } from '@capacitor/google-maps';\nimport { AuthService } from '../services/auth.service';\nimport { EnrouteChatComponent } from '../enroute-chat/enroute-chat.component';\nimport { NetworkService } from '../services/network.service'\nimport { Network } from '@capacitor/network';\nimport { Router } from '@angular/router';\nimport { App } from '@capacitor/app';\nimport { PaymentService } from '../services/payment.service';\nimport { AddCardComponent } from '../add-card/add-card.component';\nimport { switchMap } from 'rxjs/operators';\nimport { LatLngLiteral } from '@googlemaps/google-maps-services-js';\nimport { LatLng } from '@capacitor/google-maps/dist/typings/definitions';\nimport { Preferences } from '@capacitor/preferences';\nimport { OnesignalService } from '../one-signal.service';\nimport OneSignal from 'onesignal-cordova-plugin';\n\n\ndeclare var google;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements AfterViewInit {\n  [x: string]: any;\n  profile = null;\n  @ViewChild('map',  { static: true }) mapRef: ElementRef<HTMLElement>;\n  @ViewChild('topBar', { static: true }) topBar: ElementRef<HTMLElement>;\n  @ViewChild('bottomBar', { static: true }) bottomBar: ElementRef<HTMLElement>;\n  mappy;\n  @ViewChild('mapElement') mapElement: ElementRef<HTMLElement>;\n  coordinates: Position;\n  address: any = 'Unknown';\n  bookingStage: any;\n  confirmStage: any;\n  trackingStage: any;\n  searchingStage: any;\n  noDriverStage: any;\n  autocompleteStage: any;\n  drivingToDestinationStage: any;\n  data: any;\n  cash: any = false;\n  state: any = [];\n  mapPinStage: boolean;\n  D_LatLng: { lat: any; lng: any; };\n  mapPinDrag: any;\n  showResetLocationButton: any = false;\n  showloader: boolean;\n  mapClass: any;\n  destinationAddress: string = 'Drag To Pick Destination';\n  locationAddress: string = null;\n  distance: any;\n  direction: any;\n  actualDestination: any;\n  markers: any;\n  allDrivers: Observable<Drivers[]>;\n  NoDrivers: boolean;\n  driverMarker: string;\n  driver_duration_apart: number;\n  driver_number_of_seats: any;\n  price: any = 0;\n  carname: any;\n  driver_ID: any;\n  bounds: any;\n  DriverLatLng: { lat: any; lng: any; };\n  drivers_Requested: any[];\n  current_Request_Number: number = -1;\n  Driver_Rejected: any;\n  numCalls: any;\n  currentDriver: any;\n  private countdownActive = false;\n\n  unsubscribe: import(\"@angular/fire/firestore\").Unsubscribe;\n  driverInfo: import(\"@angular/fire/firestore\").DocumentData;\n  private RIDE_KEY = 'currentRide';\n  duration: any = null;\n  riderCleared: any;\n  updateDriverSubcription: any;\n  backButtonSubscription: any;\n  canCheck: boolean;\n  marker1: any;\n  marker2: any;\n  actualLocation: string;\n  LatLng: { lat: number; lng: number; };\n  mapy: boolean;\n  AllCarMarkers: Marker[];\n  private _carmarkers: { id: string, marker: any }[] = [];\n  private rider_marker: any;\n  private driver_marker: any;\n\n  cards: import(\"@angular/fire/firestore\").DocumentData[];\n  selected: any;\n  selectedCard: any;\n  closeDrivers: any;\n  countDown: any;\n  places: import(\"@angular/fire/firestore\").DocumentData[];\n  newPoly: string[];\n  isConnected: boolean;\n  private watchId: any;\n  private networkStatus$ = new BehaviorSubject<boolean>(true);\n  pollingInterval: any;\n  animatedMarker: any;\n  driverImage: any;\n  private permissionCheckInterval: any;\n  savedPaymentMethods: any;\n  requestID: string;\n  rideHasStarted: boolean;\n  driverLocation: { lat: number, lng: number } | null = null;\n  stopPolling: boolean = false;\n  riderMarker: string;\n  routePath: google.maps.MVCArray<google.maps.LatLng> | (google.maps.LatLng | google.maps.LatLngLiteral)[];\n  destinationMarker: any;\n  D_duration: any;\n  routePolyline: any;\n  private routeUpdateSubscription: Subscription;\n\n  topBarHeight: any;\n  bottomBarHeight:any;\n\n\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private networkService: NetworkService,\n    public map: MapService,\n    private nav: NavController,\n    private platform: Platform,\n    private firestore: Firestore,\n    private readonly database: AvatarService,\n    private ngZone: NgZone,\n    private geocode: GeocodeService,\n    private overlay: OverlayService,\n    private modalCtrl: ModalController,\n    private alertController: AlertController,\n    private payME: PaymentService,\n    private toastController: ToastController,\n    private actionSheetController: ActionSheetController,\n    private onesignal: OnesignalService\n  \n  ) {\n    this.initializeApp();\n  }\n\n  async ngOnDestroy() {\n\n    window.removeEventListener('resize', this.ResetMapHeight.bind(this));\n    this.clearSubscriptions();\n    this.unsubscribe();\n    await this.clearPrevMarkers();\n    await this.clearAllPolylines();\n  }\n\n  ionViewDidEnter(){\n    this.EnterBookingStage();\n  }\n\n\n  ionViewWillLeave()\n  {\n    this.bookingStage = false;\n  }\n\n\n  async ngAfterViewInit() {\n    try {\n      //alert('Map container height:' + this.mapRef.nativeElement.offsetHeight);\n      this.ResetMapHeight();\n      window.addEventListener('resize', this.ResetMapHeight.bind(this));\n      this.initializeBackButtonCustomHandler();\n  \n      await this.initializeNetworkMonitoring();\n      await this.fetchSavedPaymentMethods();\n      this.EnterBookingStage();\n      await this.initializeGeolocation();\n      await this.initializeMap();\n      this.initializeDatabaseSubscriptions();\n      this.setupMapListeners();\n      await this.map.newMap.enableCurrentLocation(true);\n\n\n  \n      this.price = null;\n  \n      if (this.LatLng && this.LatLng.lat && this.LatLng.lng) {\n        const center: [number, number] = [this.LatLng.lat, this.LatLng.lng];\n        const radiusInM = 5000; // Example radius in meters\n        await this.fetchAndDisplayDrivers(center, radiusInM);\n      }\n  \n      \n    } catch (e) {\n      console.error('Error in ngAfterViewInit:', e);\n      this.overlay.showAlert('Error in ngAfterViewInit:', 'An error occurred during initialization. Please try again.');\n    }\n  }\n  \n  \n  async fetchSavedPaymentMethods() {\n    try {\n      this.savedPaymentMethods = await this.database.getSavedPaymentMethods();\n      console.log('Saved Payment Methods:', this.savedPaymentMethods);\n      \n      // Set default payment method to cash if no cards are saved\n      if (this.savedPaymentMethods.length === 0) {\n        this.selectedCard = 'cash';\n        this.cash = true;\n      } else {\n        this.selectedCard = this.savedPaymentMethods[0].cardId;\n        this.cash = false;\n      }\n    } catch (error) {\n      console.error('Error fetching saved payment methods:', error);\n    }\n  }\n\n  chooseCard(event: any) {\n    this.selectedCard = event.detail.value;\n    this.cash = this.selectedCard === 'cash';\n    if (!this.cash) {\n     // this.processPayment(this.authService.user.email, this.defaultAmount, this.selectedCard);\n    }\n  }\n\n  async processPayment(email: string, amount: number, cardId: any) {\n    this.overlay.showLoader('');\n\n    try {\n      const paymentResult = await this.payME.processPaymentWithCardId(email, amount, cardId).toPromise();\n      console.log('Payment successful:', paymentResult);\n      await this.overlay.showAlert('Success', 'Payment successful!');\n    } catch (error) {\n      console.error('Error during payment:', error);\n      const errorMessage = error.error ? error.error.error : 'An unexpected error occurred.';\n      await this.showPaymentErrorModal(errorMessage);\n    } finally {\n      this.overlay.hideLoader();\n    }\n  }\n\n  async showPaymentErrorModal(errorMessage: string) {\n    const alert = await this.alert.create({\n      header: 'Payment Error',\n      message: errorMessage,\n      buttons: [\n        {\n          text: 'Add New Card',\n          handler: async () => {\n            const modal = await this.modalCtrl.create({\n              component: AddCardComponent, // Create this component to handle adding a new card\n            });\n            await modal.present();\n            const { data } = await modal.onWillDismiss();\n            if (data && data.newCardId) {\n              this.selectedCard = data.newCardId;\n              this.cash = false;\n            }\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n\n  ResetMapHeight() {\n    \n    this.topBarHeight = 0; this.bottomBarHeight = 0;\n\n    this.topBarHeight = this.topBar.nativeElement.offsetHeight - 40;\n    this.bottomBarHeight = this.bottomBar.nativeElement.offsetHeight - 40;\n    const availableHeight = window.innerHeight + this.bottomBarHeight + this.topBarHeight;\n    this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n  }\n\n\n  setMapHeight() {\n    if (this.topBar && this.bottomBar) {\n      this.topBarHeight = 0; this.bottomBarHeight = 0;\n      this.topBarHeight = this.topBar.nativeElement.offsetHeight - 40;\n      this.bottomBarHeight = this.bottomBar.nativeElement.offsetHeight - 40;\n      const availableHeight = window.innerHeight - this.bottomBarHeight - this.topBarHeight;\n      this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n     // alert('Map container height SetMap: ' + this.mapRef.nativeElement.style.height)\n    }\n  }\n\n  setMapHeightCreateAndAddMarkers() {\n    const bottomBarHeight = this.bottomBar ? this.bottomBar.nativeElement.offsetHeight : 0;\n    const availableHeight = window.innerHeight - bottomBarHeight; // Full height minus bottom bar height\n    this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n  }\n\n  setMapHeightHandleDrivertoRider() {\n      this.topBarHeight = 0; this.bottomBarHeight = 0;\n      this.bottomBarHeight = this.bottomBar.nativeElement.offsetHeight;\n      const availableHeight = window.innerHeight - this.bottomBarHeight - this.topBarHeight;\n      //alert('rrerrerr: ' + availableHeight);\n      this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n    \n  }\n\n  setMapHeightHandleDrivertoDestination() {\n    if (this.bottomBar) {\n      this.topBarHeight = 0; this.bottomBarHeight = 0;\n      this.bottomBarHeight = this.bottomBar.nativeElement.offsetHeight - 40;\n      const availableHeight = window.innerHeight - this.bottomBarHeight + 90;\n      this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n    }\n  }\n\n  private async initializeNetworkMonitoring() {\n    const status = await Network.getStatus();\n    this.isConnected = status.connected;\n    this.networkStatus$.next(this.isConnected);\n    console.log('Network monitoring initialized. Initial status:', this.isConnected);\n\n    Network.addListener('networkStatusChange', (status) => {\n      console.log('Network status changed:', status);\n      this.isConnected = status.connected;\n      this.networkStatus$.next(this.isConnected);\n    });\n\n    this.networkStatus$.subscribe((isConnected) => {\n      if (isConnected) {\n        this.router.navigate(['home']);\n      } else {\n        this.router.navigate(['network']);\n      }\n    });\n  }\n\n\n  initializeApp() {\n    this.platform.ready().then(async () => {\n      const rideData = await this.getRideState();\n      if (rideData) {\n        console.log(\"There is some ridedata in here....\");\n       //this.restoreRideState(rideData);\n      }\n    });\n  }\n\n  async saveRideState(rideData: any): Promise<void> {\n    const RIDE_KEY = 'rideState';\n\n    await Preferences.set({\n      key: RIDE_KEY,\n      value: JSON.stringify(rideData)\n    });\n  }\n  \n  async getRideState(): Promise<any> {\n    const RIDE_KEY = 'rideState';\n\n    const { value } = await Preferences.get({ key: RIDE_KEY });\n    return value ? JSON.parse(value) : null;\n  }\n  \n  async clearRideState(): Promise<void> {\n    const RIDE_KEY = 'rideState';\n\n    await Preferences.remove({ key: RIDE_KEY });\n  }\n  // Method to restore the ride state\n  restoreRideState(rideData: any) {\n    // Set necessary variables to restore the ride state\n    this.current_Request_Number = rideData.current_Request_Number;\n    this.price = rideData.price;\n    this.actualDestination = rideData.actualDestination;\n    this.D_LatLng = rideData.D_LatLng;\n    this.destinationAddress = rideData.destinationAddress;\n    this.LatLng = rideData.LatLng;\n  \n    // Restore map state and markers\n    this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n    });\n  \n    this.createAndAddMarkers(this.LatLng, this.D_LatLng);\n  \n    // Navigate to the appropriate stage\n    if (rideData.stage) {\n      this.setStage(rideData.stage);\n    }\n  }\n\n  \n \n  async initializeGeolocation() {\n    try {\n      // Check existing permissions\n      let permissionStatus = await Geolocation.checkPermissions();\n  \n      if (permissionStatus.location !== 'granted') {\n        // Request permissions\n        const permissionRequest = await Geolocation.requestPermissions();\n        permissionStatus = permissionRequest;\n  \n        if (permissionRequest.location !== 'granted') {\n          // If the user still hasn't granted permission, prompt them to enable location services\n          await this.overlay.showLoader('Enable Device Location...');\n          this.startPermissionPolling();\n          return;\n        }\n      }\n  \n      // If permission is granted, dismiss any alert if shown\n      this.overlay.hideLoader();\n  \n      // Try to get the current position\n      const coordinates = await Geolocation.getCurrentPosition();\n      this.coordinates = coordinates;\n      this.LatLng = {\n        lat: coordinates.coords.latitude,\n        lng: coordinates.coords.longitude\n      };\n      this.database.updateLocation(this.LatLng);\n      console.log('Geolocation initialized:', this.LatLng);\n  \n      // Start polling the user's position\n      this.startPollingPosition();\n    } catch (error) {\n      console.error('Error initializing geolocation:', error);\n      // If any error occurs, prompt the user to enable location services\n      await this.overlay.showLoader('Enable Device Location...');\n      this.startPermissionPolling();\n    }\n  }\n  \n  startPermissionPolling() {\n    this.permissionCheckInterval = setInterval(async () => {\n      const permissionStatus = await Geolocation.checkPermissions();\n      if (permissionStatus.location === 'granted') {\n        this.overlay.hideLoader();\n        clearInterval(this.permissionCheckInterval);\n        // Try to get the current position again if permissions are granted\n        const coordinates = await Geolocation.getCurrentPosition();\n        this.coordinates = coordinates;\n        this.LatLng = {\n          lat: coordinates.coords.latitude,\n          lng: coordinates.coords.longitude,\n        };\n        console.log('Geolocation initialized:', this.LatLng);\n  \n        // Start polling the user's position\n        this.startPollingPosition();\n      }\n    }, 1000); // Check every second\n  }\n\n  \n  startPollingPosition() {\n    let lastLatLng = { lat: null, lng: null };\n    let lastAddress = null;\n  \n    this.pollingInterval = setInterval(async () => {\n      try {\n        const position = await Geolocation.getCurrentPosition();\n        const newLatLng = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n        };\n\n  \n        if (this.hasSignificantLocationChange(lastLatLng, newLatLng, 50)) { // Check if moved at least 50 meters\n          lastLatLng = newLatLng;\n\n          this.database.updateLocation(newLatLng);\n  \n          const address = await this.map.getAddress(newLatLng.lat, newLatLng.lng);\n          \n          if (address && address.results && address.results.length > 1) {\n            const components = address.results[1].address_components;\n            if (components.length >= 2) {\n              this.locationAddress = components[0].long_name + ' ' + components[1].long_name;\n              this.actualLocation = address.results[0].formatted_address;\n              if (this.locationAddress !== lastAddress) {\n                console.log('Updated Location Address:', this.locationAddress);\n                lastAddress = this.locationAddress;\n              }\n            }\n          } else {\n            console.log('Unable to update location address');\n          }\n        }\n  \n        if (this.networkService.isConnected() && !this.stopPolling) {\n          const center: [number, number] = [newLatLng.lat, newLatLng.lng];\n          const radiusInM = 5000; // Example radius in meters\n          await this.fetchAndDisplayDrivers(center, radiusInM);\n        } else {\n          console.log('No network connection.', this.stopPolling);\n        }\n      } catch (err) {\n        console.error('Error getting position:', err);\n        // Reduce error alerts by not showing specific errors repeatedly\n      }\n    }, 5000); // Poll every 10 seconds\n  }\n  \n  hasSignificantLocationChange(oldLatLng, newLatLng, minDistance) {\n    if (!oldLatLng.lat || !oldLatLng.lng) return true;\n    \n    const R = 6371e3; // Earth radius in meters\n    const φ1 = oldLatLng.lat * Math.PI/180;\n    const φ2 = newLatLng.lat * Math.PI/180;\n    const Δφ = (newLatLng.lat - oldLatLng.lat) * Math.PI/180;\n    const Δλ = (newLatLng.lng - oldLatLng.lng) * Math.PI/180;\n  \n    const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n              Math.cos(φ1) * Math.cos(φ2) *\n              Math.sin(Δλ/2) * Math.sin(Δλ/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  \n    const distance = R * c; // Distance in meters\n  \n    return distance >= minDistance;\n  }\n\n  \n  stopPollingPosition() {\n    if (this.pollingInterval) {\n      clearInterval(this.pollingInterval);\n      this.pollingInterval = null;\n      console.log('Stopped polling position.');\n    } else {\n      console.log('No polling to stop.');\n    }\n  }\n  \n  async initializeMap() {\n    try {\n      await this.map.createMap(this.mapRef.nativeElement, this.coordinates);\n      this.mapy = true;\n      this.actualLocation = this.map.actualLocation;\n     // console.log('Map initialized:', this.actualLocation, this.locationAddress);\n    } catch (error) {\n      //console.error('Error initializing map:', error);\n      throw new Error('Map initialization failed');\n    }\n  }\n  \n  initializeDatabaseSubscriptions() {\n    this.database.getKnownPlaces().subscribe((d) => {\n      console.log('Received data:', d);\n      this.places = d.slice(0, 3);\n    });\n  }\n\n\n  initializeBackButtonCustomHandler() {\n    this.backButtonSubscription = this.platform.backButton.subscribeWithPriority(10, () => {\n      this.handleBackButton();\n    });\n  }\n\n  async handleBackButton() {\n    try {\n      console.log('Current Stages:', {\n        bookingStage: this.bookingStage,\n        mapPinStage: this.mapPinStage,\n        confirmStage: this.confirmStage,\n        autocompleteStage: this.autocompleteStage,\n        searchingStage: this.searchingStage,\n        noDriverStage: this.noDriverStage,\n        trackingStage: this.trackingStage,\n        drivingToDestinationStage: this.drivingToDestinationStage,\n      });\n  \n      if (this.bookingStage) {\n        await this.showExitConfirmation();\n      } else if (this.mapPinStage) {\n        await this.goBackToAutoComplete();\n        this.EnterBookingStage();\n      } else if (this.confirmStage) {\n        this.EnterBookingStage();\n      } else if (this.autocompleteStage) {\n        this.EnterBookingStage();\n      } else if (this.searchingStage) {\n        await this.showCancelSearchConfirmation();\n      } else if (this.noDriverStage) {\n        this.EnterBookingStage();\n      } else if (this.trackingStage) {\n        await this.showCancelRideConfirmation();\n      } else if (this.drivingToDestinationStage) {\n        await this.showCannotExitAlert();\n      } else {\n        await this.router.navigate(['..']); // Navigate to the previous route\n      }\n    } catch (error) {\n      console.error('Error handling back button:', error);\n    }\n  }\n\n  async showExitConfirmation() {\n    const alert = await this.alertController.create({\n      header: 'Exit App',\n      message: 'Are you sure you want to exit the app?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        },\n        {\n          text: 'Exit',\n          handler: () => {\n            navigator['app'].exitApp();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async showCancelSearchConfirmation() {\n    const alert = await this.alertController.create({\n      header: 'Cancel Search',\n      message: 'Are you sure you want to cancel the search?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel'\n        },\n        {\n          text: 'Yes',\n          handler: () => {\n            // Implement logic to cancel the search\n            console.log('Search cancelled');\n            this.presentCancelRideActionSheet();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async showCancelRideConfirmation() {\n    const alert = await this.alertController.create({\n      header: 'Cancel Ride',\n      message: 'Are you sure you want to cancel this ride?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel'\n        },\n        {\n          text: 'Yes',\n          handler: () => {\n            // Implement logic to cancel the ride\n            console.log('Ride cancelled');\n            this.presentCancelRideActionSheet();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async showCannotExitAlert() {\n    const alert = await this.alertController.create({\n      header: 'Cannot Exit',\n      message: 'You cannot exit the app during an active trip.',\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n  \n\n\n  \n  setupMapListeners() {\n    this.map.newMap.setOnCameraIdleListener(async (g) => {\n      this.ngZone.run(async () => {\n        this.showResetLocationButton = true;\n        if (this.mapPinStage) {\n          const addressResponse = await this.geocode.getAddress(g.latitude, g.longitude).toPromise();\n          this.processAddressResponse(addressResponse);\n        }\n      });\n    });\n  }\n  \n  async logout() {\n    await this.authService.logout();\n  }\n  \n  async fetchAndDisplayDrivers(center: [number, number], radiusInM: number): Promise<void> {\n    try {\n      const drivers: Drivers[] = await this.database.checkDriversWithin(center, radiusInM);\n      console.log('Fetched drivers:', drivers);\n  \n      await this.handleDrivers(drivers);\n  \n      if (this.drivers_Requested.length > 0) {\n        this.current_Request_Number = 0; // Set to the first available driver\n        await this.UpdateCarMarker(this.drivers_Requested);\n        this.NoDrivers = false;\n      } else {\n        this.current_Request_Number = -1; // No valid driver\n        await this.UpdateCarMarker([]); // Clear all markers if no drivers are requested\n        this.NoDrivers = true;\n      }\n    } catch (error) {\n      console.error('Error fetching drivers:', error);\n      this.current_Request_Number = -1; // Reset the request number\n      await this.UpdateCarMarker([]); // Clear all markers if there's an error\n      this.NoDrivers = true;\n    }\n  }\n  \n  \n  async handleDrivers(drivers: Drivers[]) {\n    this.drivers_Requested = [];\n    this.closeDrivers = null;\n  \n    console.log('Handling drivers:', drivers);\n  \n    if (drivers.length === 0) {\n      this.NoDrivers = true;\n      console.log('No drivers found.');\n      return;\n    }\n  \n    drivers.forEach((driver) => {\n      if (driver) {\n        console.log('Processing driver:', driver);\n        if (driver.duration <= 1000 && driver.onlineState) {\n          this.drivers_Requested.push(driver);\n          this.updateDriverInfo(driver);\n        }\n  \n        if (!this.closeDrivers || driver.duration < this.closeDrivers.duration) {\n          this.closeDrivers = driver;\n        }\n      } else {\n        console.error('Driver is null or undefined:', driver);\n      }\n    });\n  \n    if (this.drivers_Requested.length === 0) {\n      this.NoDrivers = true;\n    } else {\n      // Ensuring current_Request_Number is within the bounds\n      this.current_Request_Number = Math.min(this.current_Request_Number, this.drivers_Requested.length - 1);\n    }\n  \n    console.log('Final requested drivers list:', this.drivers_Requested);\n  }\n  \n   // Unsubscribe from all active listeners (for cleanup)\n   cleanupListeners() {\n    Object.values(this.database.activeListeners).forEach(unsubscribe => unsubscribe());\n    this.database.activeListeners = {};\n  }\n \n  \n  updateDriverInfo(driver) {\n    console.log(this.drivers_Requested);\n    this.carname = driver.Driver_car;\n    this.driverImage = driver.Driver_imgUrl,\n    this.driver_duration_apart = Math.ceil(driver.duration / 60000);\n    this.driver_ID = driver.Driver_id;\n    this.driver_number_of_seats = driver.seats;\n    this.DriverLatLng = {\n      lat: driver.Driver_lat,\n      lng: driver.Driver_lng\n    };\n  }\n  \n  async StartRide() {\n    try {\n      this.overlay.showLoader('');\n      await this.clearPrevMarkers();\n      // Clear any existing polylines\n    await this.clearAllPolylines();\n\n    this.map.newMap.enableTouch();\n\n    // Ensure the map respects the boundaries of the top and bottom bars\n      this.map.newMap.enableCurrentLocation(false);\n      await this.BookRide();\n    } catch (e) {\n      this.overlay.showAlert('Starting Ride Error', e);\n    }\n  }\n\nasync clearMarkers() {\n  if (this.marker1) {\n    await this.map.newMap.removeMarker(this.marker1);\n    this.marker1 = null;\n  }\n\n  if (this.marker2) {\n    await this.map.newMap.removeMarker(this.marker2.toString());\n    this.marker2 = null;\n  }\n\n  if (this._carmarkers) {\n    for (const { marker } of this._carmarkers) {\n      await this.map.newMap.removeMarker(marker); // Assuming marker is the instance\n    }\n    this._carmarkers = []; // Clear the array after removing markers\n  }\n}\n\nasync BookRide() {\n  try {\n    if (this.hasValidDriver()) {\n      const driver = this.drivers_Requested[this.current_Request_Number];\n      const userDocRef = doc(this.firestore, `Drivers`, driver.Driver_id);\n      \n      // Fetch driver details once\n      const docSnapshot = await getDoc(userDocRef);\n      \n      if (docSnapshot.exists()) {\n        const data = docSnapshot.data();\n        console.log('Driver is offline', driver);\n        if (data && data.onlineState) {\n          this.driverInfo = data;\n          // Call requestRideWithDriverDetails to generate requestID and handle ride request\n          await this.requestRideWithDriverDetails(driver, userDocRef);\n         \n          this.updateDriverInfo(driver);\n          \n        } else {\n          console.log('Driver is offline');\n          await this.handleNoAvailableDriver();\n        }\n      } else {\n        console.error('Document does not exist.');\n        await this.handleNoAvailableDriver();\n      }\n    } else {\n      this.showNoDriversAlert();\n    }\n  } catch (error) {\n    console.error('Error in BookRide:', error);\n    this.overlay.showAlert('Error in BookRide:', 'An error occurred while booking the ride.');\n  }\n}\n\nhasValidDriver(): boolean {\n  return this.drivers_Requested?.[this.current_Request_Number]?.Driver_id != null;\n}\n\nasync requestRideWithDriverDetails(driver, userDocRef) {\n  try {\n    // Assume that this.database.RequestRideWithRiderDetails returns a Promise that resolves with the requestID\n    const requestDetails = {\n      latLng: this.LatLng,\n      destinationAddress: this.destinationAddress,\n      locationAddress: this.locationAddress,\n      dLatLng: this.D_LatLng,\n      driverId: driver.Driver_id,\n      price: this.price,\n      cash: this.cash\n    };\n\n    this.requestID = await this.database.RequestRideWithRiderDetails(requestDetails);\n\n    // Assuming the request was successful and the requestID was generated\n    if (this.requestID) {\n      this.currentDriver = driver;\n      this.handlePendingState();\n\n      // Optionally listen for updates on the specific ride request document\n      const rideRequestDocRef = doc(this.firestore, `Request`, this.requestID);\n      const unsub = onSnapshot(rideRequestDocRef, async (doc) => {\n        if (doc.exists()) {\n          await this.handleRideUpdates(doc);\n        } else {\n          console.error('Ride request document does not exist.');\n        }\n      });\n\n      // Store the unsubscribe function if you need to clear it later\n      this.unsubscribe = unsub;\n    } else {\n      throw new Error('Failed to generate requestID');\n    }\n  } catch (error) {\n    console.error('Error in requestRideWithDriverDetails:', error);\n    this.overlay.showAlert('Error in requestRideWithDriverDetails', 'An error occurred while requesting the ride.');\n  }\n}\n\nshowNoDriversAlert() {\n  console.error('No valid driver available to book a ride.');\n  this.overlay.showAlert('No Drivers ', 'No available drivers found. Please try again later.');\n}\n\nasync handleNoAvailableDriver() {\n  console.log('Driver is not available, moving to next.');\n  this.current_Request_Number++;\n  if (this.hasValidDriver()) {\n    await this.BookRide();\n  } else {\n    this.showNoDriversAlert();\n  }\n}\n\nasync requestNextDriver() {\n  console.log(\"Requested Next Driver\");\n  this.current_Request_Number++;\n  if (this.hasValidDriver()) {\n    console.log(\"Continua\");\n    await this.BookRide();\n  } else {\n    await this.ReturnHome();\n    this.showNoDriversAlert();\n  }\n}\n\n// Make sure to clear the subscription when it's no longer needed\nclearSubscriptions() {\n  if (this.numCalls) {\n    this.numCalls.unsubscribe();\n  }\n  if (this.countDown) {\n    this.countDown.unsubscribe();\n  }\n  if (this.unsubscribe) {\n    this.unsubscribe();\n  }\n  if (this.routeUpdateSubscription) {\n    this.routeUpdateSubscription.unsubscribe();\n  }\n}\n\nasync handleRideUpdates(doc) {\n  const data = doc.data();\n  if (!data) {\n    console.error('No data found in the document.');\n    return;\n  }\n  \n  switch (data.status) {\n    case 'cancelled':\n      await this.handleRideCancellation(data);\n      break;\n    case 'confirmed':\n      await this.handleRideConfirmation(doc);\n      break;\n    case 'started':\n      await this.handleRideStart(doc);\n      break;\n    case 'stopped':\n      await this.handleRideStop(doc);\n      break;\n    default:\n      console.error('Unknown ride status:', data.status);\n      break;\n  }\n}\n\n\nasync handlePendingState() {\n  console.log(\"now pending\", );\n  await this.getDriverLocation(this.currentDriver.Driver_id); // Fetch the latest driver location\n  console.log(\"This is the driver location: \" + this.DriverLatLng);\n\n  await this.clearPrevMarkers();\n  await this.clearPolyline(this.newPoly);\n\n  await this.map.newMap.setCamera({\n    animate: true,\n    animationDuration: 500,\n    zoom: 15,\n    coordinate: this.DriverLatLng\n  });\n  this.ngZone.run(()=>{\n    this.setMapHeightCreateAndAddMarkers()\n  })\n  // Driver coming to the rider\n  await this.handleDriverToRider(this.DriverLatLng, this.LatLng);\n  this.overlay.hideLoader();\n  this.EnterSearchingStage();\n  await this.startCountdown(20, this.requestID);\n}\n\n\nasync presentCancelRideActionSheet() {\n  const actionSheet = await this.actionSheetController.create({\n    header: 'Cancel Ride',\n    buttons: [\n      {\n        text: 'Changed my mind',\n        handler: () => {\n          this.cancelRide('Changed my mind');\n        }\n      },\n      {\n        text: 'Driver took too long',\n        handler: () => {\n          this.cancelRide('Driver took too long');\n        }\n      },\n      {\n        text: 'Found another ride',\n        handler: () => {\n          this.cancelRide('Found another ride');\n        }\n      },\n      {\n        text: 'Other',\n        handler: () => {\n          this.cancelRide('Other');\n        }\n      },\n      {\n        text: 'Cancel',\n        role: 'cancel'\n      }\n    ]\n  });\n  await actionSheet.present();\n}\n\nasync cancelRide(reason: string) {\n  try {\n    const rideRef = doc(this.firestore, 'Request', this.requestID);\n    const rideSnapshot = await getDoc(rideRef);\n    const rideData = rideSnapshot.data();\n\n    if (!rideData) {\n      throw new Error('Ride data not found');\n    }\n\n    // Update the existing request\n    await updateDoc(rideRef, {\n      status: 'cancelled',\n      cancellationReason: reason,\n      canceledBy: 'rider'\n    });\n\n    // Create a new document in the cancelledRides collection\n    const cancelledRideRef = doc(collection(this.firestore, 'CancelledRides'));\n    await setDoc(cancelledRideRef, {\n      ...rideData,\n      status: 'cancelled',\n      cancellationReason: reason,\n      canceledBy: 'rider',\n      cancelledAt: serverTimestamp(),\n      originalRequestId: this.requestID\n    });\n\n    const toast = await this.toastController.create({\n      message: 'Ride has been cancelled.',\n      duration: 2000\n    });\n    await toast.present();\n\n    // Additional cleanup or state reset can be done here\n    await this.ClearRide();\n    this.EnterBookingStage();\n  } catch (error) {\n    console.error('Error cancelling ride:', error);\n    const errorToast = await this.toastController.create({\n      message: 'Error cancelling ride. Please try again.',\n      duration: 3000,\n      color: 'danger'\n    });\n    await errorToast.present();\n  }\n}\n\n\n\nasync handleRideCancellation(data) {\n  this.stopCountdown();\n  await this.clearPrevMarkers();\n  this.unsubscribe();\n  this.clearSubscriptions();\n  if (this.drivers_Requested[this.current_Request_Number + 1] && !this.rideHasStarted) {\n    this.current_Request_Number++;\n    await this.BookRide();\n  } else {\n    if (data.canceledBy == 'driver') {\n      this.overlay.showAlert('Cancelled', 'Driver cancelled');\n    } \n    this.ClearRide();\n      this.ReturnHome();\n  }\n}\n\n\nasync handleRideStart(doc) {\n  // alert('handleRideStart');\n  await this.clearPrevMarkers();\n  await this.clearPolyline(this.newPoly);\n  this.currentDriver = doc.data();\n  this.rideHasStarted = true;\n  this.setMapHeightHandleDrivertoDestination();\n    window.addEventListener('resize', this.setMapHeightHandleDrivertoDestination.bind(this));\n      await this.handleRiderToDestination(this.DriverLatLng, this.D_LatLng);\n      this.canCheck = true;\n  \n await this.saveRideState(this.currentDriver);\n  this.EnterDrivingToDestinationStage();\n}\n\nasync handleRideStop(doc) {\n  this.clearSubscriptions();\n  this.unsubscribe();\n  await this.clearPrevMarkers();\n  \n   await this.clearPolyline(this.newPoly);\n  await this.ReturnHome();\n  await this.database.createHistory(this.driverInfo);\n\n}\n\n\nasync handleRideConfirmation(doc) {\n  this.stopCountdown();\n  console.log(\"trtryyrry rettete\");\n  await this.clearPrevMarkers();\n  await this.clearPolyline(this.newPoly);\n \n  this.DriverLatLng = {\n    lat: this.driverLocation.lat,\n    lng: this.driverLocation.lng\n  };\n  console.log(this.DriverLatLng);\n  \n    // Set map height before calculating zoom level\n    this.setMapHeightHandleDrivertoRider();\n    window.addEventListener('resize', this.setMapHeightHandleDrivertoRider.bind(this));\n\n    await this.handleDriverToRider(this.DriverLatLng, this.LatLng);\n  \n  this.EnterTrackingStage();\n}\n\n\ngetDriverLocation(driverId: string): void {\n  this.database.getDriverLocation(driverId)\n  .then(location => {\n    this.driverLocation = location;\n    console.log(this.driverLocation); // For testing purposes\n  })\n  .catch(error => {\n    console.error('Error fetching driver location:', error);\n  });\n}\n\n\n\nasync EnterChat(): Promise<void> {\n  alert(this.requestID);\nconst options: ModalOptions = {\n    component: EnrouteChatComponent,\n    componentProps: {\n        userId: this.requestID,\n        message: \"\"\n    },\n    swipeToClose: true,\n};\n\nconst modal = await this.modalCtrl.create(options);\nreturn await modal.present();\n}\n\nasync startCountdown(initialTime, requestId) {\n  this.countdownActive = true;\n  let timeRemaining = initialTime;\n\n  const updateCountdown = async () => {\n    if (!this.countdownActive) {\n      console.log('Countdown stopped');\n      return;\n    }\n\n    if (timeRemaining > 0) {\n      try {\n        await this.database.UpdateCountDown(timeRemaining, requestId);\n        timeRemaining--;\n        setTimeout(updateCountdown, 1000);\n      } catch (error) {\n        console.error('Error updating countdown:', error);\n        // Retry after a short delay\n        setTimeout(updateCountdown, 2000);\n      }\n    } else {\n      await this.handleCountdownEnd(requestId);\n      console.log('Countdown ended');\n    }\n  };\n\n  updateCountdown();\n}\n\nasync handleCountdownEnd(requestId) {\n  try {\n    // Implement a grace period to account for any delays\n    setTimeout(async () => {\n      await this.clearPrevMarkers();\n      await this.requestNextDriver();\n    }, 5000); // 5-second grace period\n  } catch (error) {\n    console.error('Error handling countdown end:', error);\n    // Optionally, retry the operation or notify the user\n  }\n}\n\n\nstopCountdown() {\n  this.countdownActive = false;\n}\n\nasync goBackToAutoComplete() {\n  try {\n    this.stopPolling = false;\n\n    this.EnterAutoCompleteStage();\n    // Enable current location and set the camera to the initial position\n    await this.map.newMap.enableCurrentLocation(true);\n \n\n    await this.ResetState();\n\n    await this.showAutocompleteModal();\n    \n\n    console.log('Game state reset successfully');\n  } catch (error) {\n    console.error('Error resetting game state:', error);\n  }\n}\n\nprivate async clearPrevMarkers() {\n  try {\n     // Clear other markers\n     if (this.rider_marker) {\n      await this.clearMarker(this.rider_marker);\n      this.rider_marker = null;\n    }\n\n    // Clear other markers\n    if (this.driver_marker) {\n      await this.clearMarker(this.driver_marker);\n      this.driver_marker = null;\n    }\n\n    // Clear other markers\n    if (this.destinationMarker) {\n      await this.clearMarker(this.destinationMarker);\n      this.destinationMarker = null;\n    }\n\n    // Clear other markers\n    if (this.marker1) {\n      await this.clearMarker(this.marker1);\n      this.marker1 = null;\n    }\n\n    if (this.marker2) {\n      await this.clearMarker(this.marker2);\n      this.marker2 = null;\n    }\n\n    // Clear animated marker\n    if (this.animatedMarker) {\n      await this.clearMarker(this.animatedMarker);\n      this.animatedMarker = null;\n    }\n\n    if (this.routeUpdateSubscription) {\n      this.routeUpdateSubscription.unsubscribe();\n    }\n\n\n  } catch (e) {\n    console.error('Error clearing markers:', e);\n  }\n}\n\n\nprivate async clearMarker(marker) {\n  if (marker) {\n    try {\n      await this.map.newMap.removeMarker(marker);\n      console.log(\"Marker was cleared!\");\n    } catch (error) {\n      console.error('Error clearing marker:', error);\n    }\n  }\n}\n\n\n\nasync clearPolyline(polyline) {\n  if (polyline) {\n    try {\n      await this.map.newMap.removePolylines(polyline);\n      \n      console.log('Polyline cleared:', polyline);\n      this.newPoly = null;\n    } catch (error) {\n      console.error('Error clearing polyline:', error);\n    }\n  } else {\n    console.warn('No polyline to clear');\n  }\n}\n\nasync clearAllPolylines() {\n  try {\n    await this.map.newMap.removePolylines([]);\n    console.log('All polylines cleared');\n    this.newPoly = null;\n  } catch (error) {\n    console.error('Error clearing all polylines:', error);\n  }\n}\n\nasync ResetState(){\n  try{\n    // Clear previous markers\n    await this.clearPrevMarkers();\n\n    // Clear any existing polylines\n    await this.clearPolyline(this.newPoly);\n\n    await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n    });\n\n    this.ResetMapHeight();\n    //window.addEventListener('resize', this.ResetMapHeight.bind(this));\n  \n    this.map.newMap.enableTouch();\n    // Ensure the map respects the boundaries of the top and bottom bars\n    this.current_Request_Number = 0;\n    this.price = null;\n    this.actualDestination = null;\n    this.D_LatLng = { lat: null, lng: null };\n    this.destinationAddress = 'Unknown location';\n\n    await this.map.newMap.enableCurrentLocation(true);\n    \n  }catch(e){\n    throw new Error(e);\n    \n  }\n}\n\nasync showAutocompleteModal(): Promise<void> {\n  const options: ModalOptions = {\n      component: AutocompleteComponent,\n      componentProps: {\n          LatLng: this.LatLng,\n          locationAddress: this.locationAddress,\n      },\n      swipeToClose: true,\n  };\n\n  const modal = await this.modalCtrl.create(options);\n  await modal.present();\n\n  const { data } = await modal.onWillDismiss();\n  console.log('Modal dismissed with data:', data);\n\n  this.data = data;\n\n  if (data.pinOnMap) {\n      this.EnterMapPinStage();\n      this.mapPinDrag = true;\n      this.stopPolling = true;\n\n  }\n\n  if (data.home) {\n      console.log(\"Entering Booking Stage...\");\n      this.EnterBookingStage();\n      this.stopPolling = false;\n  }\n\n  if (data.searching) {\n      this.database.AddKnownPlace(data);\n      this.destinationAddress = data.full;\n      this.actualDestination = data.whole.full;\n\n      try {\n          const latLng = await this.geocode.getLatLng(data.whole.description).toPromise();\n          this.D_LatLng = {\n              lat: latLng.results[0].geometry.location.lat,\n              lng: latLng.results[0].geometry.location.lng,\n          };\n          console.log(\"Destination LatLng:\", this.D_LatLng);\n\n          await this.getDistanceAndDirections();\n      } catch (error) {\n          console.error(\"Error in geocoding:\", error);\n          this.overlay.showAlert('Error in geocoding:', error.message);\n      }\n  }\n}\n\n\nasync RequestRide(dat) {\n  if (!this.NoDrivers) {\n    this.destinationAddress = dat.place.full;\n    this.actualDestination = dat.place.whole.full;\n\n    try {\n      const latLng = await this.geocode.getLatLng(dat.place.whole.description).toPromise();\n      this.D_LatLng = {\n        lat: latLng.results[0].geometry.location.lat,\n        lng: latLng.results[0].geometry.location.lng,\n      };\n\n      await this.getDistanceAndDirections();\n    } catch (error) {\n      console.error(\"Error in geocoding:\", error);\n      this.overlay.showAlert('Check Your Network', error.message);\n    }\n  } else {\n    this.EnterNoDriverStage();\n    console.log(\"No drivers available\");\n  }\n}\n\nasync getDistanceAndDirections() {\n  console.log(\"getDistanceAndDirections called\");\n  this.duration = null;\n  await this.clearMarkers();\n  this.cleanupListeners();\n  this.stopPolling = true;\n\n  if (this.D_LatLng && this.D_LatLng.lat) {\n    console.log(\"D_LatLng is set:\", this.D_LatLng);\n\n    if (!this.NoDrivers) {\n      this.EnterConfirmStage();\n    } else {\n      this.EnterNoDriverStage();\n      console.log(\"No drivers available\");\n      return;\n    }\n\n    const origin1 = new google.maps.LatLng(this.LatLng.lat, this.LatLng.lng);\n    const origin2 = new google.maps.LatLng(this.D_LatLng.lat, this.D_LatLng.lng);\n\n    const request = {\n      origin: origin1,\n      destination: origin2,\n      travelMode: google.maps.TravelMode.DRIVING,\n    };\n\n    this.geocode.directions.route(request, async (response, status) => {\n      if (status === 'OK') {\n        this.direction = response;\n        this.distance = response.routes[0].legs[0].distance.value;\n        this.bounds = response.routes[0].bounds;\n        this.price = await this.database.getPriceEstimate(this.distance);\n        this.duration = response.routes[0].legs[0].duration.text;\n\n        await this.createAndAddMarkers(this.LatLng, this.D_LatLng);\n\n        // Call getDistanceAndDirectionsDriver after this part is successful\n        await this.getDistanceAndDirectionsDriver();\n      } else {\n        console.error('Direction ERROR:', response);\n        this.overlay.showAlert('Check Your Network', JSON.stringify(response));\n      }\n    });\n  } else {\n    this.overlay.showAlert('Drag Map', 'Drag the map and stop on your required destination');\n    console.error('D_LatLng or D_LatLng.lat is undefined');\n  }\n}\n\nasync getDistanceAndDirectionsDriver() {\n  console.log(\"getDistanceAndDirectionsDriver called\");\n\n  if (!this.NoDrivers) {\n    console.log(\"Driver LatLng:\", this.DriverLatLng);\n\n    if (this.DriverLatLng) {\n      const origin1 = new google.maps.LatLng(this.LatLng.lat, this.LatLng.lng);\n      const origin2 = new google.maps.LatLng(this.DriverLatLng.lat, this.DriverLatLng.lng);\n\n      const request = {\n        origin: origin1,\n        destination: origin2,\n        travelMode: google.maps.TravelMode.DRIVING,\n      };\n\n      this.geocode.directions.route(request, (response, status) => {\n        if (status === 'OK') {\n          this.D_duration = response.routes[0].legs[0].duration.text;\n          console.log(\"Driver duration:\", this.D_duration);\n        } else {\n          console.error('Direction ERROR:', response);\n          this.overlay.showAlert('Direction ERROR:', JSON.stringify(response));\n        }\n      });\n    } else {\n      console.log(\"DriverLatLng is undefined\");\n    }\n  } else {\n    console.log(\"No drivers available\");\n  }\n}\n\n\n\n\nasync resetLocation(): Promise<void> {\nconsole.log(this.LatLng);\nawait this.map.newMap.setCamera({\n    animate: true,\n    animationDuration: 500,\n    zoom: 15,\n    coordinate: this.LatLng\n});\nthis.showResetLocationButton = false;\n}\n\n\n\nprocessAddressResponse(addressResponse) {\n  console.log(\"processAddressResponse : \" + addressResponse);\n  if (addressResponse) {\n      console.log(addressResponse);\n      this.actualDestination = this.map.actualLocation;\n      const results = addressResponse.results;\n\n      if (results && results.length > 1 && results[1].geometry && results[1].geometry.location) {\n          this.D_LatLng = {\n              lat: results[1].geometry.location.lat,\n              lng: results[1].geometry.location.lng\n          };\n\n          const addressComponents = results[1].address_components;\n          if (addressComponents && addressComponents.length > 1) {\n              this.destinationAddress = `${addressComponents[0].long_name} ${addressComponents[1].long_name}`;\n              console.log(\"this is it \" + this.destinationAddress);\n          } else {\n              console.log('Address components are missing or incomplete.');\n              this.destinationAddress = 'Unknown address';\n          }\n      } else {\n          console.log('Results are missing or incomplete.');\n          this.D_LatLng = { lat: null, lng: null };\n          this.destinationAddress = 'Unknown location';\n      }\n  } else {\n      console.log('Failed to fetch address.');\n      this.D_LatLng = { lat: null, lng: null };\n      this.destinationAddress = 'Failed to fetch address';\n  }\n}\n\n\nasync UpdateCarMarker(elements: Drivers[]) {\n  console.log('Elements to update car markers:', elements);\n\n  const bounds = new google.maps.LatLngBounds();\n\n  // Create a map of driver IDs to driver elements for quick lookup\n  const driverMap = new Map(elements.map(element => [element.Driver_id, element]));\n\n  // Track markers to keep and update\n  const updatedMarkers: { id: string, marker: any }[] = [];\n\n  // Remove markers that are not needed and update positions\n  for (const { id, marker } of this._carmarkers) {\n    const driver = driverMap.get(id);\n    if (!driver || !driver.onlineState) {\n      console.log(`Removing marker for driver ID: ${id}`);\n      //await this.map.newMap.removeMarker(marker); // Remove the marker from the map\n    } else if (driver.Driver_lat !== undefined && driver.Driver_lng !== undefined) {\n      const latlng = { lat: driver.Driver_lat, lng: driver.Driver_lng };\n      // Remove old marker and add a new one with updated position\n     // await this.map.newMap.removeMarker(marker);\n      // const newMarker = await this.map.newMap.addMarker({\n      //   coordinate: latlng,\n      //   iconUrl: 'https://i.ibb.co/KDy365b/hatchback.png',\n      //   title: 'Driver',\n      //   iconSize: { width: 30, height: 30 }\n      // });\n     // updatedMarkers.push({ id, marker: newMarker });\n      bounds.extend(latlng);\n      console.log(`Updated marker for driver ID: ${id}`);\n    } else {\n      console.error('Invalid driver coordinates:', driver);\n    }\n  }\n\n  // Add new markers for drivers that are online and not in the existing markers\n  for (const element of elements) {\n    if (element.onlineState) {\n      const existingMarkerIndex = updatedMarkers.findIndex(({ id }) => id === element.Driver_id);\n      if (existingMarkerIndex === -1 && element.Driver_lat !== undefined && element.Driver_lng !== undefined) {\n        const latlng = { lat: element.Driver_lat, lng: element.Driver_lng };\n        console.log(`Adding new marker for driver ID: ${element.Driver_id} at`, latlng);\n        try {\n          // const marker = await this.map.newMap.addMarker({\n          //   coordinate: latlng,\n          //   iconUrl: 'https://i.ibb.co/KDy365b/hatchback.png',\n          //   title: 'Driver',\n          //   iconSize: { width: 30, height: 30 }\n          // });\n\n          // if (marker) {\n          //   updatedMarkers.push({ id: element.Driver_id, marker });\n          //   bounds.extend(latlng);\n          // }\n        } catch (error) {\n          console.error('Error adding marker:', error);\n        }\n      }\n    }\n  }\n\n  // Update the _carmarkers array with the updated markers\n  this._carmarkers = updatedMarkers;\n\n  // Center the map around the car markers if there are any markers\n  if (updatedMarkers.length > 0) {\n    const mapDim = {\n      height: this.mapRef.nativeElement.offsetHeight,\n      width: this.mapRef.nativeElement.offsetWidth\n    };\n\n    const minZoom = 5; // Define your minimum zoom level\n    const maxZoom = 18; // Define your maximum zoom level\n    \n    let zoomLevel = await this.map.getBoundsZoomLevel(bounds, mapDim);\n    \n    // Constrain the zoom level within the min and max range\n    zoomLevel = Math.max(minZoom, Math.min(maxZoom, zoomLevel));\n    \n    console.log('Setting camera with zoom level:', zoomLevel);\n    \n    await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: zoomLevel,\n      coordinate: bounds.getCenter()\n    });\n\n    this.map.newMap.fitBounds(bounds);\n  } else {\n    console.log('No markers to display on the map.');\n  }\n}\n\n\n\nasync GoHome() {\n  await this.map.newMap.enableCurrentLocation(true);\n  this.current_Request_Number = 0;\n  this.stopPolling = false;\n  this.price = null;\n  this.EnterBookingStage();\n  await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n  });\n}\n\nasync GotoSupport() {\n  await this.nav.navigateForward('support');\n}\n\n\nasync ReturnHome() {\n  await this.ResetState();\n  this.EnterBookingStage();\n  this.stopPolling = false;\n  await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n  });\n}\n\nasync CancelRide() {\n  this.overlay.showLoader('Please Wait..');\n  await this.clearPrevMarkers();\n  // Clear any existing polylines\n   await this.clearPolyline(this.newPoly);\n\n  this.unsubscribe();\n  this.numCalls.unsubscribe();\n  this.riderCleared = true;\n  await this.database.cancelRide(this.requestID);\n  await this.map.newMap.enableCurrentLocation(true);\n  this.current_Request_Number = 0;\n  this.price = null;\n  this.EnterBookingStage();\n  this.overlay.hideLoader();\n  await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n  });\n}\n\nasync ClearRide() {\n  this.EnterBookingStage();\n this.clearPrevMarkers();\n\n  // Ensure the polyline is cleared\n  console.log(\"should clear\");\n  await this.clearPolyline(this.newPoly);\n  this.newPoly = null; // Reset polyline reference\n\n  await this.map.newMap.enableCurrentLocation(true);\n  this.current_Request_Number = 0;\n  this.price = null;\n  await this.map.newMap.setCamera({\n    animate: true,\n    animationDuration: 500,\n    zoom: 15,\n    coordinate: this.LatLng,\n    bearing: 0\n  });\n}\n\nasync CallDriver() {\n  // Implement CallDriver logic\n}\n\n\n// Interval in milliseconds for updating the route\nUPDATE_INTERVAL = 10000; // Update every 10 seconds\n\nasync handleDriverToRider(driverLatLng, riderLatLng) {\n  const markerSize = { width: 30, height: 30 };\n  const iconAnchor = { x: 10, y: 0 }; // Center bottom of the icon\n\n  try {\n    // Add driver marker at the starting position\n    const driverMarker = await this.map.newMap.addMarker({\n      coordinate: driverLatLng,\n      iconUrl: 'assets/icon/car.png',\n      title: 'Driver',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 2, y: 0 },\n    });\n    this.driver_marker = driverMarker;\n\n    // Add rider marker at the destination position\n    const riderMarker = await this.map.newMap.addMarker({\n      coordinate: riderLatLng,\n      iconUrl: this.database.user.photoURL, // Change this to your rider icon URL\n      title: 'Rider',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 2, y: 0 },\n    });\n    this.rider_marker = riderMarker;\n\n    // Function to update route, duration, and distance\n    const updateRoute = async () => {\n      const request = {\n        origin: driverLatLng,\n        destination: riderLatLng,\n        travelMode: google.maps.TravelMode.DRIVING,\n      };\n\n      this.geocode.directions.route(request, async (response, status) => {\n        if (status === 'OK') {\n          const path = response.routes[0].overview_path.map(latlng => ({\n            lat: latlng.lat(),\n            lng: latlng.lng()\n          }));\n          this.duration = response.routes[0].legs[0].duration.text;\n          this.distance = response.routes[0].legs[0].distance.text;\n\n          console.log(`Duration: ${this.duration}, Distance: ${this.distance}`);\n\n          const locs = [\n            { geoCode: { latitude: driverLatLng.lat, longitude: driverLatLng.lng } },\n            { geoCode: { latitude: riderLatLng.lat, longitude: riderLatLng.lng } },\n          ];\n\n          const center = this.map.calculateCenter(locs);\n\n\n          const bounds = new google.maps.LatLngBounds();\n          bounds.extend(new google.maps.LatLng(driverLatLng.lat, driverLatLng.lng));\n          bounds.extend(new google.maps.LatLng(riderLatLng.lat, riderLatLng.lng));\n  \n        \n          const availableHeight = this.mapRef.nativeElement.offsetHeight;\n  \n          // Prepare map dimensions for calculating zoom level\n          const mapDim = {\n            height: availableHeight,\n            width: this.mapRef.nativeElement.offsetWidth,\n          };\n  \n          // Calculate zoom level\n          const zoomLevel = this.map.getBoundsZoomLevel(bounds, mapDim);\n  \n          // Manually set zoom level if needed\n          const adjustedZoomLevel = zoomLevel - 1; // Adjust as necessary\n\n          await this.map.setCameraToLocation({ lat: center.latitude, lng: center.longitude }, adjustedZoomLevel, this.map.calculateBearing(driverLatLng, riderLatLng));\n  \n\n          // Update polyline for the route\n           // Update polyline for the route\n           if (this.newPoly) {\n            await this.clearPolyline(this.newPoly);\n           }\n           await this.addPolyline(driverLatLng, riderLatLng);\n          // Animate the driver marker along the path to the rider\n          await this.animateMarker(this.driver_marker, path, 'assets/icon/car.png');\n        } else {\n          console.error('Direction ERROR:', response);\n          this.overlay.showAlert('Direction ERROR', JSON.stringify(response));\n        }\n      });\n    };\n\n    // Start updating the route periodically\n    const routeUpdate$ = interval(this.UPDATE_INTERVAL).pipe(\n      switchMap(() => updateRoute())\n    );\n\n    // Subscribe to the interval observable to start updating\n    this.routeUpdateSubscription = routeUpdate$.subscribe();\n\n    // Cleanup subscription when the component or context is destroyed\n    // Call routeUpdateSubscription.unsubscribe() when needed\n\n  } catch (error) {\n    console.error('Error handling driver to rider:', error);\n  }\n}\n\nasync handleRiderToDestination(driverLatLng, destinationLatLng) {\n  const markerSize = { width: 30, height: 30 };\n  const iconAnchor = { x: 10, y: 0 }; // Center bottom of the icon\n\n  try {\n    // Update driver marker to driver's current position\n    const driverMarker = await this.map.newMap.addMarker({\n      coordinate: driverLatLng,\n      iconUrl: 'assets/icon/car.png',\n      title: 'Driver',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 0, y: 0 },\n    });\n    this.driver_marker = driverMarker;\n\n    // Add destination marker\n    const destinationMarker = await this.map.newMap.addMarker({\n      coordinate: destinationLatLng,\n      iconUrl: 'assets/icon/flag.png',\n      title: 'Destination',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 0, y: 0 },\n    });\n    this.destinationMarker = destinationMarker;\n\n    // Function to update route, duration, and distance\n    const updateRoute = async () => {\n      const request = {\n        origin: driverLatLng,\n        destination: destinationLatLng,\n        travelMode: google.maps.TravelMode.DRIVING,\n      };\n\n      this.geocode.directions.route(request, async (response, status) => {\n        if (status === 'OK') {\n          const path = response.routes[0].overview_path.map(latlng => ({\n            lat: latlng.lat(),\n            lng: latlng.lng()\n          }));\n          this.duration = response.routes[0].legs[0].duration.text;\n          this.distance = response.routes[0].legs[0].distance.text;\n\n          console.log(`Duration: ${this.duration}, Distance: ${this.distance}`);\n\n          const locs = [\n            { geoCode: { latitude: driverLatLng.lat, longitude: driverLatLng.lng } },\n            { geoCode: { latitude: destinationLatLng.lat, longitude: destinationLatLng.lng } },\n          ];\n\n          const center = this.map.calculateCenter(locs);\n\n\n          const bounds = new google.maps.LatLngBounds();\n          bounds.extend(new google.maps.LatLng(driverLatLng.lat, driverLatLng.lng));\n          bounds.extend(new google.maps.LatLng(destinationLatLng.lat, destinationLatLng.lng));\n  \n        \n          const availableHeight = this.mapRef.nativeElement.offsetHeight;\n  \n          // Prepare map dimensions for calculating zoom level\n          const mapDim = {\n            height: availableHeight,\n            width: this.mapRef.nativeElement.offsetWidth,\n          };\n  \n          // Calculate zoom level\n          const zoomLevel = this.map.getBoundsZoomLevel(bounds, mapDim);\n  \n          // Manually set zoom level if needed\n          const adjustedZoomLevel = zoomLevel - 1; // Adjust as necessary\n  \n          // Set the camera to focus on the center point with appropriate zoom leve\n          await this.map.setCameraToLocation({ lat: center.latitude, lng: center.longitude }, adjustedZoomLevel, this.map.calculateBearing(driverLatLng, destinationLatLng));\n  \n\n\n          // Update polyline for the route\n          if (this.newPoly) {\n           await this.clearPolyline(this.newPoly);\n          }\n          await this.addPolyline(driverLatLng, destinationLatLng);\n          \n          // Animate the driver marker along the path to the destination\n          await this.animateMarker(this.driver_marker, path, 'assets/icon/car.png');\n        } else {\n          console.error('Direction ERROR:', response);\n          this.overlay.showAlert('Direction ERROR', JSON.stringify(response));\n        }\n      });\n    };\n\n    // Start updating the route periodically\n    const routeUpdate$ = interval(this.UPDATE_INTERVAL).pipe(\n      switchMap(() => updateRoute())\n    );\n\n    // Subscribe to the interval observable to start updating\n    this.routeUpdateSubscription = routeUpdate$.subscribe();\n\n    // Cleanup subscription when the component or context is destroyed\n    // Call routeUpdateSubscription.unsubscribe() when needed\n\n  } catch (error) {\n    console.error('Error handling rider to destination:', error);\n  }\n}\n\nasync addPolyline(loc: { lat: number, lng: number }, des: { lat: number, lng: number }) {\n  try {\n    const polylineColor = \"#007bff\";\n    const polylines: Polyline[] = [\n      {\n        path: [\n          { lat: loc.lat, lng: loc.lng },\n          { lat: des.lat, lng: des.lng }\n        ],\n        strokeColor: polylineColor,\n        strokeWeight: 8,\n        geodesic: true\n      }\n    ];\n    const addedPolylines = await this.map.newMap.addPolylines(polylines);\n    if (Array.isArray(addedPolylines) && addedPolylines.length > 0) {\n      this.newPoly = addedPolylines; // Change to assign the entire array\n      console.log('Polylines added:', this.newPoly);\n      return this.newPoly;\n    } else {\n      throw new Error('Failed to add polyline: Unexpected response format');\n    }\n  } catch (e) {\n    console.error('Error Adding Polyline: ', e);\n    throw e; // Re-throw the error to be handled by the caller\n  }\n}\n\nasync createAndAddMarkers(loc, des) {\n  const markerSize = { width: 30, height: 30 };\n  const iconAnchor = { x: 10, y: 0 }; // Center bottom of the icon\n\n  try {\n    this.map.newMap.disableTouch();\n\n    // Add start marker\n    this.marker1 = await this.map.newMap.addMarker({\n      coordinate: loc,\n      iconUrl: 'assets/icon/point.png',\n      title: 'Start',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 1, y: 0 },\n    });\n\n    // Add destination marker\n    this.marker2 = await this.map.newMap.addMarker({\n      coordinate: des,\n      iconUrl: 'assets/icon/flag.png',\n      title: 'Destination',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 1, y: 0 },\n    });\n\n    // Calculate the center point between the start and destination\n    const locs = [\n      { geoCode: { latitude: loc.lat, longitude: loc.lng } },\n      { geoCode: { latitude: des.lat, longitude: des.lng } },\n    ];\n\n    const center = this.map.calculateCenter(locs);\n\n    // Calculate the bounds\n    const bounds = new google.maps.LatLngBounds();\n    bounds.extend(new google.maps.LatLng(loc.lat, loc.lng));\n    bounds.extend(new google.maps.LatLng(des.lat, des.lng));\n\n    // Set map height before calculating zoom level\n    this.setMapHeight();\n    const availableHeight = this.mapRef.nativeElement.offsetHeight;\n\n    // Prepare map dimensions for calculating zoom level\n    const mapDim = {\n      height: availableHeight,\n      width: this.mapRef.nativeElement.offsetWidth,\n    };\n\n    // Calculate zoom level\n    const zoomLevel = this.map.getBoundsZoomLevel(bounds, mapDim);\n\n    // Manually set zoom level if needed\n    const adjustedZoomLevel = zoomLevel - 1; // Adjust as necessary\n\n    // Set the camera to focus on the center point with appropriate zoom level\n    await this.map.setCameraToLocation({ lat: center.latitude, lng: center.longitude }, adjustedZoomLevel, this.map.calculateBearing(loc, des));\n\n    // Add polyline for the route\n    const polylineColor = \"#007bff\";\n    const polylines: Polyline[] = [\n      {\n        path: [\n          { lat: loc.lat, lng: loc.lng },\n          { lat: des.lat, lng: des.lng }\n        ],\n        strokeColor: polylineColor,\n        strokeWeight: 8,\n        geodesic: true\n      }\n    ];\n\n    // Add polyline to the map\n    this.newPoly = await this.map.newMap.addPolylines(polylines);\n  } catch (error) {\n    console.error('Error creating and adding markers:', error);\n  }\n}\n\n\n\nasync animateMarker(marker, path, iconUrl) {\n  const markerSize = { width: 50, height: 50 };\n  const iconAnchor = { x: 25, y: 50 }; // Center bottom of the icon\n\n  for (let i = 0; i < path.length; i++) {\n    await this.map.newMap.removeMarker(marker);\n    const coordinate = path[i] instanceof google.maps.LatLng ? \n                       { lat: path[i].lat(), lng: path[i].lng() } : \n                       { lat: path[i].lat, lng: path[i].lng };\n    marker = await this.map.newMap.addMarker({\n      coordinate: coordinate,\n      iconUrl: iconUrl,\n      title: 'Moving Marker',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 0, y: 0 },\n    });\n    await new Promise(resolve => setTimeout(resolve, 100)); // Adjust the interval as needed\n  }\n\n  // Store the last position of the animated marker\n  this.animatedMarker = marker;\n}\n\n\n\nasync ShowDriverInfoPop() {\n  const alert = await this.alert.create({\n    header: 'Driver Information',\n    message: `\n      <div style=\"text-align: center;\">\n        <h2 style=\"font-size: 1.2em; margin-bottom: 0.5em;\">Car Name: ${this.carname}</h2>\n        <div style=\"margin: 10px 0;\">\n          <img src=\"${this.driverImage}\" alt=\"Driver Image\" style=\"width: 60px; height: 60px; border-radius: 50%;\">\n        </div>\n        <p><strong>Duration Apart:</strong> ${this.driver_duration_apart} minutes</p>\n       \n        <p><strong>Number of Seats:</strong> ${this.driver_number_of_seats}</p>\n        <p><strong>Driver Location:</strong> (${this.DriverLatLng.lat}, ${this.DriverLatLng.lng})</p>\n      </div>\n    `,\n    buttons: ['OK']\n  });\n\n  await alert.present();\n}\n\n\n// State management methods\nEnterBookingStage() {\n  this.setStage('bookingStage');\n  this.ResetState();\n}\n\nEnterMapPinStage() {\n  this.setStage('mapPinStage');\n}\n\nEnterConfirmStage() {\n  this.setStage('confirmStage');\n}\n\nEnterSearchingStage() {\n  this.setStage('searchingStage');\n}\n\nEnterNoDriverStage() {\n  this.setStage('noDriverStage');\n}\n\nEnterTrackingStage() {\n  this.setStage('trackingStage');\n}\n\nEnterAutoCompleteStage() {\n  this.setStage('autocompleteStage');\n}\n\nEnterDrivingToDestinationStage() {\n  this.setStage('drivingToDestinationStage');\n}\n\nprivate setStage(activeStage: string) {\n  const stages = {\n    bookingStage: false,\n    confirmStage: false,\n    trackingStage: false,\n    searchingStage: false,\n    noDriverStage: false,\n    autocompleteStage: false,\n    mapPinStage: false,\n    drivingToDestinationStage: false,\n  };\n  \n  stages[activeStage] = true;\n  this.updateStage(stages);\n}\n\nprivate updateStage(stages: { [key: string]: boolean }) {\n  this.bookingStage = stages.bookingStage;\n  this.confirmStage = stages.confirmStage;\n  this.trackingStage = stages.trackingStage;\n  this.searchingStage = stages.searchingStage;\n  this.noDriverStage = stages.noDriverStage;\n  this.mapPinStage = stages.mapPinStage;\n  this.autocompleteStage = stages.autocompleteStage;\n  this.drivingToDestinationStage = stages.drivingToDestinationStage;\n}\n\n\n\nasync oneSignal() {\n  try {\n    await this.onesignal.OneSignalIOSPermission();\n  } catch(e) {\n    console.log(e);\n  }\n}\n\n// async sendNotificationtoSpecificDevice() {\n//   try {\n//     const externalUserId = await OneSignal.User.getExternalId();\n//     if (!externalUserId) {\n//       throw new Error('External User ID is not available');\n//     }\n\n//     const notificationResult = await this.onesignal.sendNotification(\n//       JSON.stringify({\n//         contents: { en: 'This is a test message' },\n//         headings: { en: 'Test message' },\n//         include_external_user_ids: [externalUserId],\n//         data: { type: 'user1' }\n//       }),\n//       'POST'\n//     );\n\n//     console.log('Notification sent successfully:', notificationResult);\n//   } catch (e) {\n//     console.error('Error sending notification:', e);\n//     await this.overlay.showAlert('Notification Error', e.message || 'An error occurred while sending the notification');\n//   }\n// }\n\n\n\n\n}","\n\n\n\n<ion-header class=\"ion-no-border\" [translucent]=\"true\">\n  <div #topBar>\n  <!--destination bar-->\n  <ion-toolbar class=\"ion-padding\" *ngIf=\"confirmStage\">\n    <ion-buttons slot=\"start\">\n      <ion-button shape=\"round\" (click)=\"goBackToAutoComplete()\">\n        <ion-icon slot=\"icon-only\" name=\"arrow-back\" color=\"tertiary\"></ion-icon> \n      </ion-button>\n    </ion-buttons>\n    <ion-title> Cancel </ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-item fill=\"outline\" class=\"duration\" color=\"primary\" lines=\"none\">\n        <ion-icon slot=\"icon-only\" name=\"flag\" color=\"primary\"></ion-icon>\n        <ion-label *ngIf=\"duration\" color=\"primary\"><h1>{{duration}}</h1></ion-label>\n      </ion-item>\n    </ion-buttons>\n  </ion-toolbar>\n\n  \n  <!-- <ion-grid>\n    <ion-row>\n      <ion-col size=\"12\"> -->\n        <ion-item lines=\"none\" color='light' class=\"main-buttons ion-no-padding\" class='top_bar'  (click)=\"goBackToAutoComplete()\" *ngIf=\"confirmStage\">\n            <ion-icon slot=\"start\" color='primary' name=\"pencil\"></ion-icon>\n            <ion-label color='primary' >{{destinationAddress}}</ion-label>\n        </ion-item>\n      <!-- </ion-col>\n    </ion-row>\n  </ion-grid> -->\n\n  <ion-toolbar class=\"ion-padding\" *ngIf=\"searchingStage\">\n    <ion-title> Driver Arrives In </ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-item fill=\"outline\" class=\"duration\" color=\"primary\" lines=\"none\">\n        <ion-icon slot=\"icon-only\" name=\"flag\" color=\"primary\"></ion-icon>\n        <ion-label *ngIf=\"duration\" color=\"primary\"><h1>{{duration}}</h1></ion-label>\n      </ion-item>\n    </ion-buttons>\n  </ion-toolbar>\n\n        <ion-item lines=\"none\" color='light' class=\"main-buttons ion-no-padding\" class='top_bar' *ngIf=\"searchingStage\">\n            <ion-icon slot=\"start\" color='primary' name=\"flag\"></ion-icon>\n            <ion-label color='primary' >{{destinationAddress}}</ion-label>\n        </ion-item>\n  \n\n  <!--menu button-->\n  <ion-fab *ngIf=\"bookingStage\" vertical=\"top\" horizontal=\"start\" style=\"top: 35px;\">\n    <ion-fab-button color=\"light\">\n      <ion-menu-button color=\"primary\"></ion-menu-button>\n    </ion-fab-button>\n  </ion-fab>\n\n  <!--sos button-->\n  <ion-fab *ngIf=\"bookingStage\" vertical=\"top\" horizontal=\"end\" (click)=\"GotoSupport()\" style=\"top: 35px;\">\n    <ion-fab-button color=\"light\">\n      <ion-icon color=\"primary\" name=\"chatbubble-ellipses\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab>\n\n   <!--back button if map Pin-->\n   <ion-fab *ngIf=\"mapPinStage\" vertical=\"top\" (click)=\"goBackToAutoComplete()\" horizontal=\"start\" style=\"top: 35px;\">\n    <ion-fab-button color=\"light\">\n      <ion-icon name=\"arrow-back\" color=\"primary\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab>\n\n\n\n\n  <!--Search Bar-->\n \n</div>\n </ion-header>\n\n\n<!--Capacitor Google Map-->\n\n<ion-content [fullscreen]=\"true\" scroll-y=\"false\">\n  \n  <capacitor-google-maps #map>\n   \n  </capacitor-google-maps>\n\n\n  <ion-fab *ngIf=\"bookingStage && showResetLocationButton\" vertical=\"bottom\" horizontal=\"end\" style=\"bottom: 130px;\">\n    <ion-fab-button color=\"light\" (click)=\"resetLocation()\">\n      <ion-icon name=\"locate\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab>\n\n  \n</ion-content>\n\n\n\n<ion-fab class=\"centerPin\" *ngIf=\"mapPinStage\" vertical=\"center\" horizontal=\"center\">\n    <ion-avatar>\n      <ion-img src=\"../../assets/icon/pin.png\"></ion-img>\n    </ion-avatar>\n</ion-fab>\n\n  <ion-footer  [translucent]=\"true\" class=\"ion-no-border\">\n    <div #bottomBar>\n    <ion-row>\n\n\n      <!--where to bar and button-->\n      <ion-list class=\"bottomItems shadow-top\" *ngIf=\"bookingStage\" lines=\"full\">\n  \n        <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom \">\n          <ion-button \n          [disabled]=\"!locationAddress\" \n          shape=\"round\" \n          class=\"main-button\" \n          size=\"large\" \n          type=\"submit\" \n          (click)=\"showAutocompleteModal()\" \n          expand=\"block\">\n          <ion-icon slot=\"start\" name=\"search\" color=\"primary\"></ion-icon>\n          <ion-label>{{ locationAddress ? 'Where To?' : 'Waiting for address...' }}</ion-label>\n        </ion-button>\n        \n\n        <ion-item *ngFor=\"let place of places\" class=\"bottomItems ion-margin\" (click)=\"RequestRide(place)\">\n          <ion-icon name=\"pin\" color=\"primary\" slot=\"start\"></ion-icon>\n          <ion-label>\n            <h1>{{ place.place.place }}</h1> \n            <p>{{ place.place.city }}</p>\n          </ion-label>\n        </ion-item>\n        \n        \n        \n        </ion-item-group>\n\n      </ion-list>\n\n      <!--Map Pin Choose Bar-->\n      <ion-list class='bottomItems shadow-top' [hidden]=\"!mapPinStage\" lines=\"full\">\n\n        <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom\">\n          <ion-button shape=\"round\" size=\"large\" type=\"submit\" (click)=\"getDistanceAndDirections()\" expand=\"block\">\n            <ion-icon slot=\"end\" name=\"arrow-forward\"></ion-icon>\n            <ion-label>{{destinationAddress}}</ion-label>\n          </ion-button>\n        </ion-item-group>\n\n      </ion-list>\n\n      <!--No driver Found Bar-->\n      \n      <ion-list class='bottomItems shadow-top' *ngIf=\"noDriverStage\" lines=\"none\">\n        <ion-list-header>\n          <ion-item style=\"margin:0 auto;\">\n              <img src=\"../../assets/imgs/No connection-pana.svg\">\n          </ion-item>\n            \n         </ion-list-header>\n       <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom\">\n        \n               <ion-button shape=\"round\"  class='main-button' size=\"large\" type=\"submit\" color=\"primary\" (click)=\"ReturnHome()\" expand=\"block\">\n                 <ion-icon slot=\"start\" name=\"arrow-back\"></ion-icon>\n                 <ion-label> No Drivers Here </ion-label>\n               </ion-button>\n            \n       </ion-item-group>\n\n     </ion-list>\n\n      <!--Car type, payment, confirmation and Selection Bar-->\n      <ion-list class='bottomItems shadow-top' *ngIf=\"confirmStage\" lines=\"none\">\n\n        <ion-list-header color=\"light\" class=\"payment\">\n          <ion-grid class=\"ion-no-padding\">\n            <ion-row class=\"ion-align-items-center\">\n              <ion-col size=\"auto\">\n                <ion-avatar>\n                  <ion-img *ngIf=\"price\" src=\"../../assets/icon/hatchback.png\"></ion-img>\n                  <ion-skeleton-text *ngIf=\"!price\" [animated]=\"true\"></ion-skeleton-text>\n                </ion-avatar>\n              </ion-col>\n              <ion-col (click)=\"ShowDriverInfoPop()\">\n                <h2 *ngIf=\"price\">{{carname}} <ion-icon name=\"information-circle\" color='primary'></ion-icon></h2>\n                <h2 *ngIf=\"!price\"><ion-skeleton-text [animated]=\"true\" style=\"width: 70%\"></ion-skeleton-text></h2>\n                <p *ngIf=\"price\">\n                  <ion-icon name=\"time\" color='primary'></ion-icon> {{D_duration}} \n                  <ion-icon name=\"person\" color='primary' class=\"ion-margin-start\"></ion-icon> {{driver_number_of_seats}} seats\n                </p>\n                <p *ngIf=\"!price\"><ion-skeleton-text [animated]=\"true\" style=\"width: 90%\"></ion-skeleton-text></p>\n              </ion-col>\n              <ion-col size=\"auto\" class=\"price-column\">\n                <h2 *ngIf=\"price\">${{price}}</h2>\n                <h2 *ngIf=\"!price\"><ion-skeleton-text [animated]=\"true\" style=\"width: 60px\"></ion-skeleton-text></h2>\n                <p *ngIf=\"price\"><del>${{price*2}}</del></p>\n                <p *ngIf=\"!price\"><ion-skeleton-text [animated]=\"true\" style=\"width: 40px\"></ion-skeleton-text></p>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </ion-list-header>\n\n        <div class=\"card\">\n          <ion-item>\n            <ion-label>Change Payment</ion-label>\n            <ion-select [value]=\"selectedCard\" (ionChange)=\"chooseCard($event)\">\n              <ion-select-option value=\"cash\">Cash</ion-select-option>\n              <ion-select-option *ngFor=\"let card of savedPaymentMethods\" [value]=\"card.cardId\">\n                Card {{ card.last4 }}\n              </ion-select-option>\n              <ion-button shape=\"round\" color=\"primary\" size=\"large\" type=\"submit\" (click)=\"StartRide()\" expand=\"block\">\n                <ion-icon slot=\"start\" name=\"checkmark-sharp\"></ion-icon>\n                <ion-label>Change Payment</ion-label>\n              </ion-button>\n            </ion-select>\n          </ion-item>\n\n          <!--Base Select Button-->\n          <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom\">\n            <ion-button shape=\"round\" color=\"primary\" size=\"large\" type=\"submit\" (click)=\"StartRide()\" expand=\"block\">\n              <ion-icon *ngIf='price' slot=\"start\" name=\"checkmark-sharp\"></ion-icon>\n              <ion-progress-bar color=\"light\" *ngIf='!price' type=\"indeterminate\"></ion-progress-bar>\n              <ion-label *ngIf='price'>Book Ride</ion-label>\n            </ion-button>\n          </ion-item-group>\n        </div>\n      </ion-list>\n\n      <!-- Connecting to driver bar-->\n      <ion-list class='bottomItems shadow-top' *ngIf=\"searchingStage\" lines=\"none\">\n        <ion-list-header>\n          <ion-item>\n            <ion-avatar slot=\"start\">\n              <ion-img [src]=\"currentDriver.Driver_imgUrl\"></ion-img>\n            </ion-avatar>\n            <ion-label>\n              <h1>{{currentDriver.Driver_name}}</h1>\n              <p>Arrives In {{duration}}</p>\n            </ion-label>\n          </ion-item>\n        </ion-list-header>\n        <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom\">\n          <ion-button fill=\"outline\" shape=\"round\" color=\"danger\" class='main-button' size=\"small\" type=\"submit\" expand=\"block\" (click)=\"presentCancelRideActionSheet()\">\n            <ion-label></ion-label>\n            <ion-icon slot=\"start\" slot=\"icon-only\" name=\"close-sharp\" color=\"danger\"></ion-icon>\n          </ion-button>\n          <ion-progress-bar color=\"primary\" class=\"ion-padding\" type=\"indeterminate\"></ion-progress-bar>\n        </ion-item-group>\n      </ion-list>\n\n      <!--Driver found now tracking to user bar-->\n      <ion-list class='bottomItems shadow-top' *ngIf=\"trackingStage\" lines=\"none\">\n        <ion-list-header class=\"ion-margin-bottom\">\n          <ion-label>\n            <h1 class=\"ion-text-center\">Driver Arrives in {{duration}}</h1>\n          </ion-label>\n        </ion-list-header>\n\n        <div class=\"card ion-padding\">\n          <ion-item lines=\"none\">\n            <ion-label>\n              <p>{{driverInfo.Driver_car}} • {{driverInfo.Driver_cartype}}</p>\n              <h2>{{driverInfo.Driver_plate}}</h2>\n            </ion-label>\n            <ion-avatar slot=\"end\">\n              <ion-img [src]=\"driverInfo.Driver_imgUrl\"></ion-img>\n            </ion-avatar>\n          </ion-item>\n\n          <ion-item lines=\"none\" class=\"ion-margin-top\">\n            <ion-label>\n              <h2>Your Driver is {{driverInfo.Driver_name}}</h2>\n              <p>1,832 rides</p>\n            </ion-label>\n            <ion-note slot=\"end\">\n              <ion-icon color=\"warning\" name=\"star\"></ion-icon>\n              {{driverInfo.Driver_rating}}\n            </ion-note>\n          </ion-item>\n\n          <ion-item lines=\"none\" class=\"ion-margin-top\">\n            <ion-icon color='primary' [name]=\"cash ? 'cash' : 'card'\" slot=\"start\"></ion-icon>\n            <ion-label>\n              <h2>{{cash ? 'Cash' : 'Card'}}</h2>\n            </ion-label>\n            <ion-note slot=\"end\" class=\"price\">\n              <h2>${{price}}</h2>\n            </ion-note>\n          </ion-item>\n\n          <ion-accordion-group class=\"ion-margin-top\">\n            <ion-accordion value=\"first\">\n              <ion-item slot=\"header\">\n                <ion-label><h2>More Options</h2></ion-label>\n              </ion-item>\n              <div class=\"ion-padding\" slot=\"content\">\n                <ion-button expand=\"block\" (click)=\"CallDriver()\">\n                  <ion-icon slot=\"start\" name=\"call\"></ion-icon>\n                  Contact Driver\n                </ion-button>\n                <ion-button expand=\"block\" (click)=\"EnterChat()\">\n                  <ion-icon slot=\"start\" name=\"chatbubbles\"></ion-icon>\n                  Chat with Driver\n                </ion-button>\n                <ion-button expand=\"block\" color=\"danger\" (click)=\"presentCancelRideActionSheet()\">\n                  <ion-icon slot=\"start\" name=\"close\"></ion-icon>\n                  Cancel Ride\n                </ion-button>\n              </div>\n            </ion-accordion>\n          </ion-accordion-group>\n        </div>\n      </ion-list>\n\n      <!--Rider Picked Up now tracking to destination bar-->\n      <ion-list class='bottomItems shadow-top' *ngIf=\"drivingToDestinationStage\" lines=\"none\">\n        <ion-list-header class=\"ion-margin-bottom\">\n          <ion-label>\n            <h1 class=\"ion-text-center\">Arrival in {{duration}}</h1>\n          </ion-label>\n        </ion-list-header>\n\n        <div class=\"card\">\n          <ion-item>\n            <ion-item>\n              <ion-label>\n                <p>{{driverInfo.Driver_car}}.{{driverInfo.Driver_cartype}}</p>\n                <h1>{{driverInfo.Driver_plate}}</h1>\n              </ion-label>\n            </ion-item>\n            <ion-item class=\"price\">\n              <ion-avatar slot=\"start\">\n                <ion-img [src]=\"driverInfo.Driver_imgUrl\"></ion-img>\n              </ion-avatar>\n              <ion-label>\n                <p><ion-icon slot=\"icon-only\" color=\"secondary\" name=\"star\"></ion-icon> 5 </p>\n              </ion-label>\n            </ion-item>\n          </ion-item>\n\n          <ion-item>\n            <ion-item>\n              <ion-label>\n                <h1>Your Driver is {{driverInfo.Driver_name}}</h1>\n                <p>1,832 rides</p>\n              </ion-label>\n            </ion-item>\n          </ion-item>\n\n          <ion-item>\n            <ion-item *ngIf=\"cash\">\n              <ion-label>\n                <h1><ion-icon color='primary' slot=\"icon-only\" name=\"cash\"></ion-icon> Cash</h1>\n              </ion-label>\n            </ion-item>\n\n            <ion-item *ngIf=\"!cash\">\n              <ion-label>\n                <h1> <ion-icon color='primary' slot=\"icon-only\" name=\"card\"></ion-icon> Card</h1>\n              </ion-label>\n            </ion-item>\n\n            <ion-item class=\"price\">\n              <ion-label>\n                <h1>${{price}}</h1>\n              </ion-label>\n            </ion-item>\n          </ion-item>\n        </div>\n      </ion-list>\n    </ion-row>\n    </div>\n  </ion-footer>\n","import { Injectable } from '@angular/core';\nimport { Capacitor } from '@capacitor/core';\nimport OneSignal, { OSNotificationPermission } from 'onesignal-cordova-plugin';\nimport { environment } from 'src/environments/environment';\nimport { AlertController } from '@ionic/angular';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { catchError } from 'rxjs/internal/operators/catchError';\nimport { of } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class OnesignalService {\n  public playerID: any;\n  constructor(private alertCtrl: AlertController, private http: HttpClient) {}\n\n  async OneSignalInit() {\n    // Uncomment to set OneSignal device logging to VERBOSE\n    //OneSignal.Debug.setLogLevel(6);\n\n    // Uncomment to set OneSignal visual logging to VERBOSE\n    // OneSignal.Debug.setAlertLevel(6);\n\n    // NOTE: Update the init value below with your OneSignal AppId.\n    OneSignal.initialize(environment.onesignal.appId);\n\n    this.playerID = await OneSignal.User.getExternalId();\n\n    alert(this.playerID);\n  \n    let myClickListener = async (event: any) => {\n      let notificationData = JSON.stringify(event);\n      console.log('notification data: ', notificationData);\n    };\n    OneSignal.Notifications.addEventListener('click', myClickListener);\n  }\n\n  // onesignal notification permission\n  async OneSignalIOSPermission() {\n    try {\n      if (Capacitor.getPlatform() == 'ios') {\n        const ios_permission = await OneSignal.Notifications.permissionNative();\n        if (ios_permission != OSNotificationPermission.Authorized) {\n          this.OneSignalPermission();\n        } else {\n          this.requestPermission();\n        }\n      } else {\n        // for android\n        this.OneSignalPermission();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  // Call this function when your app starts\n  async OneSignalPermission(msg: string = '') {\n    try {\n      const hasPermission = OneSignal.Notifications.hasPermission();\n      console.log('hasPermission: ', hasPermission);\n      if (!hasPermission) {\n        // show prompt\n        this.showAlert(msg);\n      }\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  async requestPermission() {\n    try {\n      const permission = await OneSignal.Notifications.canRequestPermission();\n      console.log('permission: ', permission);\n      if (permission) {\n        // Prompts the user for notification permissions.\n        //    * Since this shows a generic native prompt,\n        // we recommend instead using an In-App Message to prompt for notification\n        // permission (See step 7) to better communicate to your users\n        // what notifications they will get.\n        const accepted = await OneSignal.Notifications.requestPermission(true);\n        console.log('User accepted notifications: ' + accepted);\n      } else {\n        console.log('permission denied: ', permission);\n        this.OneSignalPermission();\n      }\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  showAlert(msg: string) {\n    this.alertCtrl\n      .create({\n        header: `Allow Push Notifications${msg}`,\n        message:\n          'Please allow us to send you notifications to get latest offers and order updates...',\n        buttons: [\n          {\n            text: \"Don't Allow\",\n            role: 'cancel',\n            handler: () => {\n              console.log('Confirm Cancel');\n              this.OneSignalPermission(\" (It's mandatory)\");\n            },\n          },\n          {\n            text: 'Allow',\n            handler: () => {\n              this.requestPermission();\n            },\n          },\n        ],\n      })\n      .then((alertEl) => alertEl.present());\n  }\n\n  sendNotification(msg: string, title: string, data: any = null, external_id?: any) {\n    // ... existing code ...\n\n    let body: any = {\n      app_id: environment.onesignal.appId,\n      name: 'test',\n      target_channel: \"push\",\n      headings: { en: title },\n      contents: { en: msg },\n      android_channel_id: environment.onesignal.android_channel_id,\n      // small_icon: 'mipmap/ic_launcher_round',\n      // large_icon: 'mipmap/ic_launcher_round',\n      small_icon: 'mipmap/ic_notification',\n      large_icon: 'mipmap/ic_notification_large',\n      ios_sound: 'sound.wav',\n      // filters: [\n      //   {\n      //     field: 'tag',\n      //     key: 'type',\n      //     relation: '=',\n      //     value: 'user'\n      //   },\n      // ],\n      //data: { notification_info: 'testing notification' }, //pass any object\n      data: data,\n      // included_segments: ['Active Subscriptions', 'Total Subscriptions'],\n    };\n\n    if(external_id) {\n      // specific device or deives\n      body = {\n        ...body,\n        include_aliases: {\n          external_id: external_id\n        },\n      };\n    } else {\n      body = {\n        ...body,\n        included_segments: ['Active Subscriptions', 'Total Subscriptions'],\n      };\n    }\n\n    const headers = new HttpHeaders()\n      .set('accept', 'application/json')\n      .set('Content-Type', 'application/json')\n      .set('Authorization', `Basic ${environment.onesignal.restApiKey}`);\n    return this.http.post<any>(\n      'https://onesignal.com/api/v1/notifications',\n      body,\n      { headers: headers }\n    ).pipe(\n      catchError((error) => {\n        console.error('Error sending notification:', error);\n        alert('Failed to send notification. Please try again later.');\n        return of(null);\n      })\n    );\n  }\n\n  \n}","import { Injectable } from '@angular/core';\nimport { Client } from '@googlemaps/google-maps-services-js';\nimport { environment } from 'src/environments/environment';\nimport { OverlayService } from './overlay.service';\nimport { Observable, of } from 'rxjs';\nimport { HttpParams, HttpClient } from '@angular/common/http';\nimport { catchError, map } from 'rxjs/operators';\n\ndeclare let google;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GeocodeService {\n  service = new google.maps.DistanceMatrixService();\n  directions = new google.maps.DirectionsService();\n  private readonly apiUrl = 'https://maps.googleapis.com/maps/api';\n\n  constructor(private client: Client, private overlay: OverlayService, private http: HttpClient) { }\n\n  getAddress(lat: number, lng: number): Observable<any> {\n    const url = `${this.apiUrl}/geocode/json`;\n    const params = new HttpParams()\n      .set('latlng', `${lat},${lng}`)\n      .set('key', environment.apiKey);\n  \n    return this.http.get(url, { params }).pipe(\n      map((response: any) => response),\n      catchError((error) => {\n        console.error('Error in reverse geocoding:', error);\n        this.overlay.showAlert('GeoError', error.message);\n        return of(null);\n      })\n    );\n  }\n\n  // Convert the address to lat and lng\n  getLatLng(address: string): Observable<any> {\n    const url = `${this.apiUrl}/geocode/json`;\n    const params = new HttpParams()\n      .set('address', address)\n      .set('key', environment.apiKey);\n\n    return this.http.get(url, { params }).pipe(\n      map((response: any) => response),\n      catchError((error) => {\n        console.error('Error in geocoding:', error);\n        this.overlay.showAlert('GeoError', error.message);\n        return of(null);\n      })\n    );\n  }\n\n  \n\n  // Get the distance between the origin and destination\n  async getDirections(from: string, to: string): Promise<any> {\n    try {\n      // You can implement the directions request here using google.maps.DirectionsService\n    } catch (e) {\n      this.overlay.showAlert('GeoError', e);\n      console.log(e);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { GoogleMap, Marker } from '@capacitor/google-maps';\nimport { environment } from 'src/environments/environment';\nimport { GeocodeService } from './geocode.service';\nimport { OverlayService } from './overlay.service';\nimport { HttpClient, HttpParams } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService {\n  LatLng: { lat: any; lng: any; };\n  locationAddress: string = 'Loading..';\n  showResetLocationButton: boolean;\n  mapPinStage: any;\n  D_LatLng: { lat: any; lng: any; };\n  actualLocation: any;\n  exampleMapId: any;\n  newMap: GoogleMap;\n\n  constructor(private overlay: OverlayService, private geocode: GeocodeService, private http: HttpClient) {}\n\n  async createMap(ref, coords) {\n    try {\n      this.newMap = await GoogleMap.create({\n        id: 'my-cool-map',\n        element: ref,\n        apiKey: environment.apiKey,\n        config: {\n          center: {\n            lat: 5.5122138,\n            lng: 7.4919135\n          },\n          zoom: 15,\n          height: 100,\n          width: 300,\n          scaleControl: false,\n          streetViewControl: false,\n          rotateControl: false,\n          fullscreenControl: false,\n        },\n      });\n\n      console.log('Map created successfully');\n\n      this.LatLng = {\n        lat: coords.coords.latitude,\n        lng: coords.coords.longitude\n      };\n\n      // Ensure map is ready before performing operations\n      console.log('Map is initialized');\n\n      await this.newMap.enableTrafficLayer(true);\n      await this.newMap.enableCurrentLocation(true);\n      await this.newMap.setCamera({\n        animate: true,\n        animationDuration: 500,\n        zoom: 15,\n        coordinate: this.LatLng\n      });\n\n      const address = await this.getAddress(this.LatLng.lat, this.LatLng.lng);\n      \n      // Log the address response for debugging\n      console.log('Address response:', address);\n\n      if (address && address.results) {\n        if (address.results.length > 0) {\n          this.actualLocation = address.results[0].formatted_address;\n        } else {\n          console.log('No results found in address data');\n        }\n\n        if (address.results.length > 1) {\n          const components = address.results[1].address_components;\n          if (components.length >= 2) {\n            this.locationAddress = components[0].long_name + ' ' + components[1].long_name;\n          } else {\n            console.log('Not enough address components for the second result');\n          }\n        } else {\n          console.log('Less than two results found in address data');\n        }\n      } else {\n        console.log('Address data is undefined or does not contain results');\n      }\n    } catch (e) {\n      console.log('Error creating map or getting address:', e);\n    }\n  }\n\n  calculateCenter(points) {\n    const latitudes = points.map(p => p.geoCode.latitude);\n    const longitudes = points.map(p => p.geoCode.longitude);\n  \n    const avgLat = latitudes.reduce((a, b) => a + b, 0) / latitudes.length;\n    const avgLng = longitudes.reduce((a, b) => a + b, 0) / longitudes.length;\n  \n    return { latitude: avgLat, longitude: avgLng };\n  }\n\n  async setCameraToLocation(coordinate: { lat: number; lng: number }, zoom: number, bearing: any) {\n    if (this.newMap) {\n      try {\n        await this.newMap.setCamera({\n          animate: true,\n          animationDuration: 500,\n          zoom: zoom,\n          coordinate: coordinate,\n          bearing: bearing\n        });\n      } catch (error) {\n        console.error('Error setting camera:', error);\n      }\n    } else {\n      console.error('Map is not initialized.');\n    }\n  }\n  \n  // Add other necessary methods like getAddress here\n\n  \n  \n   getBoundsZoomLevel(bounds, mapDim) {\n    const WORLD_DIM = { height: 256, width: 256 };\n      const ZOOM_MAX = 21;\n\n      const latRad = lat => {\n        const sin = Math.sin((lat * Math.PI) / 180);\n        const radX2 = Math.log((1 + sin) / (1 - sin)) / 2;\n        return Math.max(Math.min(radX2, Math.PI), -Math.PI) / 2;\n      };\n\n      const zoom = (mapPx, worldPx, fraction) =>\n        Math.floor(Math.log(mapPx / worldPx / fraction) / Math.LN2);\n\n      const ne = bounds.getNorthEast();\n      const sw = bounds.getSouthWest();\n\n      const latFraction = (latRad(ne.lat()) - latRad(sw.lat())) / Math.PI;\n\n      const lngDiff = ne.lng() - sw.lng();\n      const lngFraction = (lngDiff < 0 ? lngDiff + 360 : lngDiff) / 360;\n\n      const latZoom = zoom(mapDim.height, WORLD_DIM.height, latFraction);\n      const lngZoom = zoom(mapDim.width, WORLD_DIM.width, lngFraction);\n\n      return Math.min(latZoom, lngZoom, ZOOM_MAX);\n  }\n  \n  calculateBearing(start, end) {\n    const startLat = start.lat * (Math.PI / 180);\n    const startLng = start.lng * (Math.PI / 180);\n    const endLat = end.lat * (Math.PI / 180);\n    const endLng = end.lng * (Math.PI / 180);\n  \n    const dLng = endLng - startLng;\n    const y = Math.sin(dLng) * Math.cos(endLat);\n    const x = Math.cos(startLat) * Math.sin(endLat) - Math.sin(startLat) * Math.cos(endLat) * Math.cos(dLng);\n    const bearing = Math.atan2(y, x) * (180 / Math.PI);\n  \n    return (bearing + 360) % 360;\n  }\n  async getDirections(from: string, to: string): Promise<any> {\n    try {\n      const url = `https://maps.googleapis.com/maps/api/directions/json?origin=${from}&destination=${to}&key=${environment.apiKey}`;\n      const response = await this.http.get(url).toPromise();\n      return response;\n    } catch (error) {\n      console.error('Error in getting directions:', error);\n      return null;\n    }\n  }\n\n getAddress(lat: number, lng: number): Promise<any> {\n    const url = `https://maps.googleapis.com/maps/api/geocode/json`;\n    const params = new HttpParams()\n      .set('latlng', `${lat},${lng}`)\n      .set('key', environment.apiKey);\n\n    return this.http.get(url, { params }).toPromise();\n  }\n\n  // Add the addMarker method to the MapService class\n  async addMarker(lat: number, lng: number, title: string): Promise<Marker> {\n    try {\n      const marker: Marker = {\n        coordinate: { lat, lng },\n        title,\n      };\n      await this.newMap.addMarker(marker);\n      return marker;\n    } catch (error) {\n      console.error('Error adding marker:', error);\n      return null;\n    }\n  }\n}\n","// src/app/services/network.service.ts\n\nimport { Injectable } from '@angular/core';\nimport { Network } from '@capacitor/network';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NetworkService {\n  private networkStatus = new BehaviorSubject<boolean>(true);\n  networkStatus$ = this.networkStatus.asObservable();\n\n  constructor() {\n    this.initializeNetworkListener();\n  }\n\n  private initializeNetworkListener() {\n    Network.addListener('networkStatusChange', status => {\n      console.log('Network status changed', status);\n      this.networkStatus.next(status.connected);\n\n      if (status.connected) {\n        this.handleReconnect();\n      } else {\n        this.handleDisconnect();\n      }\n    });\n\n    this.checkInitialNetworkStatus();\n  }\n\n  private async checkInitialNetworkStatus() {\n    const status = await Network.getStatus();\n    this.networkStatus.next(status.connected);\n    if (!status.connected) {\n      this.handleDisconnect();\n    }\n  }\n\n  private handleDisconnect() {\n    console.log('Disconnected from network');\n    // Handle the UI or logic when the network is disconnected\n  }\n\n  private handleReconnect() {\n    console.log('Reconnected to network');\n    // Handle the UI or logic when the network is reconnected\n  }\n\n  isConnected(): boolean {\n    return this.networkStatus.value;\n  }\n}\n","import { registerPlugin } from '@capacitor/core';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then(m => new m.GeolocationWeb()),\n});\nexport * from './definitions';\nexport { Geolocation };\n","import { CapacitorGoogleMaps } from './implementation';\nexport class LatLngBounds {\n    constructor(bounds) {\n        this.southwest = bounds.southwest;\n        this.center = bounds.center;\n        this.northeast = bounds.northeast;\n    }\n    async contains(point) {\n        const result = await CapacitorGoogleMaps.mapBoundsContains({\n            bounds: this,\n            point,\n        });\n        return result['contains'];\n    }\n    async extend(point) {\n        const result = await CapacitorGoogleMaps.mapBoundsExtend({\n            bounds: this,\n            point,\n        });\n        this.southwest = result['bounds']['southwest'];\n        this.center = result['bounds']['center'];\n        this.northeast = result['bounds']['northeast'];\n        return this;\n    }\n}\nexport var MapType;\n(function (MapType) {\n    /**\n     * Basic map.\n     */\n    MapType[\"Normal\"] = \"Normal\";\n    /**\n     * Satellite imagery with roads and labels.\n     */\n    MapType[\"Hybrid\"] = \"Hybrid\";\n    /**\n     * Satellite imagery with no labels.\n     */\n    MapType[\"Satellite\"] = \"Satellite\";\n    /**\n     * Topographic data.\n     */\n    MapType[\"Terrain\"] = \"Terrain\";\n    /**\n     * No base map tiles.\n     */\n    MapType[\"None\"] = \"None\";\n})(MapType || (MapType = {}));\n","import { registerPlugin } from '@capacitor/core';\nconst CapacitorGoogleMaps = registerPlugin('CapacitorGoogleMaps', {\n    web: () => import('./web').then(m => new m.CapacitorGoogleMapsWeb()),\n});\nCapacitorGoogleMaps.addListener('isMapInFocus', data => {\n    var _a;\n    const x = data.x;\n    const y = data.y;\n    const elem = document.elementFromPoint(x, y);\n    const internalId = (_a = elem === null || elem === void 0 ? void 0 : elem.dataset) === null || _a === void 0 ? void 0 : _a.internalId;\n    const mapInFocus = internalId === data.mapId;\n    CapacitorGoogleMaps.dispatchMapEvent({ id: data.mapId, focus: mapInFocus });\n});\nexport { CapacitorGoogleMaps };\n","/* eslint-disable @typescript-eslint/no-namespace */\nimport { LatLngBounds, MapType, } from './definitions';\nimport { GoogleMap } from './map';\nexport { GoogleMap, LatLngBounds, MapType, };\n","import { Capacitor } from '@capacitor/core';\nimport { LatLngBounds, MapType } from './definitions';\nimport { CapacitorGoogleMaps } from './implementation';\nclass MapCustomElement extends HTMLElement {\n    constructor() {\n        super();\n    }\n    connectedCallback() {\n        this.innerHTML = '';\n        if (Capacitor.getPlatform() == 'ios') {\n            this.style.overflow = 'scroll';\n            this.style['-webkit-overflow-scrolling'] = 'touch';\n            const overflowDiv = document.createElement('div');\n            overflowDiv.style.height = '200%';\n            this.appendChild(overflowDiv);\n        }\n    }\n}\ncustomElements.define('capacitor-google-map', MapCustomElement);\nexport class GoogleMap {\n    constructor(id) {\n        this.element = null;\n        this.resizeObserver = null;\n        this.handleScrollEvent = () => this.updateMapBounds();\n        this.id = id;\n    }\n    /**\n     * Creates a new instance of a Google Map\n     * @param options\n     * @param callback\n     * @returns GoogleMap\n     */\n    static async create(options, callback) {\n        const newMap = new GoogleMap(options.id);\n        if (!options.element) {\n            throw new Error('container element is required');\n        }\n        if (options.config.androidLiteMode === undefined) {\n            options.config.androidLiteMode = false;\n        }\n        newMap.element = options.element;\n        newMap.element.dataset.internalId = options.id;\n        const elementBounds = await GoogleMap.getElementBounds(options.element);\n        options.config.width = elementBounds.width;\n        options.config.height = elementBounds.height;\n        options.config.x = elementBounds.x;\n        options.config.y = elementBounds.y;\n        options.config.devicePixelRatio = window.devicePixelRatio;\n        if (Capacitor.getPlatform() == 'android') {\n            newMap.initScrolling();\n        }\n        if (Capacitor.isNativePlatform()) {\n            options.element = {};\n            const getMapBounds = () => {\n                var _a, _b;\n                const mapRect = (_b = (_a = newMap.element) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) !== null && _b !== void 0 ? _b : {};\n                return {\n                    x: mapRect.x,\n                    y: mapRect.y,\n                    width: mapRect.width,\n                    height: mapRect.height,\n                };\n            };\n            const onDisplay = () => {\n                CapacitorGoogleMaps.onDisplay({\n                    id: newMap.id,\n                    mapBounds: getMapBounds(),\n                });\n            };\n            const onResize = () => {\n                CapacitorGoogleMaps.onResize({\n                    id: newMap.id,\n                    mapBounds: getMapBounds(),\n                });\n            };\n            const ionicPage = newMap.element.closest('.ion-page');\n            if (Capacitor.getPlatform() === 'ios' && ionicPage) {\n                ionicPage.addEventListener('ionViewWillEnter', () => {\n                    setTimeout(() => {\n                        onDisplay();\n                    }, 100);\n                });\n                ionicPage.addEventListener('ionViewDidEnter', () => {\n                    setTimeout(() => {\n                        onDisplay();\n                    }, 100);\n                });\n            }\n            const lastState = {\n                width: elementBounds.width,\n                height: elementBounds.height,\n                isHidden: false,\n            };\n            newMap.resizeObserver = new ResizeObserver(() => {\n                if (newMap.element != null) {\n                    const mapRect = newMap.element.getBoundingClientRect();\n                    const isHidden = mapRect.width === 0 && mapRect.height === 0;\n                    if (!isHidden) {\n                        if (lastState.isHidden) {\n                            if (Capacitor.getPlatform() === 'ios' && !ionicPage) {\n                                onDisplay();\n                            }\n                        }\n                        else if (lastState.width !== mapRect.width ||\n                            lastState.height !== mapRect.height) {\n                            onResize();\n                        }\n                    }\n                    lastState.width = mapRect.width;\n                    lastState.height = mapRect.height;\n                    lastState.isHidden = isHidden;\n                }\n            });\n            newMap.resizeObserver.observe(newMap.element);\n        }\n        // small delay to allow for iOS WKWebView to setup corresponding element sub-scroll views ???\n        await new Promise((resolve, reject) => {\n            setTimeout(async () => {\n                try {\n                    await CapacitorGoogleMaps.create(options);\n                    resolve(undefined);\n                }\n                catch (err) {\n                    reject(err);\n                }\n            }, 200);\n        });\n        if (callback) {\n            const onMapReadyListener = await CapacitorGoogleMaps.addListener('onMapReady', (data) => {\n                if (data.mapId == newMap.id) {\n                    callback(data);\n                    onMapReadyListener.remove();\n                }\n            });\n        }\n        return newMap;\n    }\n    static async getElementBounds(element) {\n        return new Promise(resolve => {\n            let elementBounds = element.getBoundingClientRect();\n            if (elementBounds.width == 0) {\n                let retries = 0;\n                const boundsInterval = setInterval(function () {\n                    if (elementBounds.width == 0 && retries < 30) {\n                        elementBounds = element.getBoundingClientRect();\n                        retries++;\n                    }\n                    else {\n                        if (retries == 30) {\n                            console.warn('Map size could not be determined');\n                        }\n                        clearInterval(boundsInterval);\n                        resolve(elementBounds);\n                    }\n                }, 100);\n            }\n            else {\n                resolve(elementBounds);\n            }\n        });\n    }\n    /**\n     * Enable touch events on native map\n     *\n     * @returns void\n     */\n    async enableTouch() {\n        return CapacitorGoogleMaps.enableTouch({\n            id: this.id,\n        });\n    }\n    /**\n     * Disable touch events on native map\n     *\n     * @returns void\n     */\n    async disableTouch() {\n        return CapacitorGoogleMaps.disableTouch({\n            id: this.id,\n        });\n    }\n    /**\n     * Enable marker clustering\n     *\n     * @param minClusterSize - The minimum number of markers that can be clustered together.\n     * @defaultValue 4\n     *\n     * @returns void\n     */\n    async enableClustering(minClusterSize) {\n        return CapacitorGoogleMaps.enableClustering({\n            id: this.id,\n            minClusterSize,\n        });\n    }\n    /**\n     * Disable marker clustering\n     *\n     * @returns void\n     */\n    async disableClustering() {\n        return CapacitorGoogleMaps.disableClustering({\n            id: this.id,\n        });\n    }\n    /**\n     * Adds a marker to the map\n     *\n     * @param marker\n     * @returns created marker id\n     */\n    async addMarker(marker) {\n        const res = await CapacitorGoogleMaps.addMarker({\n            id: this.id,\n            marker,\n        });\n        return res.id;\n    }\n    /**\n     * Adds multiple markers to the map\n     *\n     * @param markers\n     * @returns array of created marker IDs\n     */\n    async addMarkers(markers) {\n        const res = await CapacitorGoogleMaps.addMarkers({\n            id: this.id,\n            markers,\n        });\n        return res.ids;\n    }\n    /**\n     * Remove marker from the map\n     *\n     * @param id id of the marker to remove from the map\n     * @returns\n     */\n    async removeMarker(id) {\n        return CapacitorGoogleMaps.removeMarker({\n            id: this.id,\n            markerId: id,\n        });\n    }\n    /**\n     * Remove markers from the map\n     *\n     * @param ids array of ids to remove from the map\n     * @returns\n     */\n    async removeMarkers(ids) {\n        return CapacitorGoogleMaps.removeMarkers({\n            id: this.id,\n            markerIds: ids,\n        });\n    }\n    async addPolygons(polygons) {\n        const res = await CapacitorGoogleMaps.addPolygons({\n            id: this.id,\n            polygons,\n        });\n        return res.ids;\n    }\n    async addPolylines(polylines) {\n        const res = await CapacitorGoogleMaps.addPolylines({\n            id: this.id,\n            polylines,\n        });\n        return res.ids;\n    }\n    async removePolygons(ids) {\n        return CapacitorGoogleMaps.removePolygons({\n            id: this.id,\n            polygonIds: ids,\n        });\n    }\n    async addCircles(circles) {\n        const res = await CapacitorGoogleMaps.addCircles({\n            id: this.id,\n            circles,\n        });\n        return res.ids;\n    }\n    async removeCircles(ids) {\n        return CapacitorGoogleMaps.removeCircles({\n            id: this.id,\n            circleIds: ids,\n        });\n    }\n    async removePolylines(ids) {\n        return CapacitorGoogleMaps.removePolylines({\n            id: this.id,\n            polylineIds: ids,\n        });\n    }\n    /**\n     * Destroy the current instance of the map\n     */\n    async destroy() {\n        var _a;\n        if (Capacitor.getPlatform() == 'android') {\n            this.disableScrolling();\n        }\n        if (Capacitor.isNativePlatform()) {\n            (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        }\n        this.removeAllMapListeners();\n        return CapacitorGoogleMaps.destroy({\n            id: this.id,\n        });\n    }\n    /**\n     * Update the map camera configuration\n     *\n     * @param config\n     * @returns\n     */\n    async setCamera(config) {\n        return CapacitorGoogleMaps.setCamera({\n            id: this.id,\n            config,\n        });\n    }\n    async getMapType() {\n        const { type } = await CapacitorGoogleMaps.getMapType({ id: this.id });\n        return MapType[type];\n    }\n    /**\n     * Sets the type of map tiles that should be displayed.\n     *\n     * @param mapType\n     * @returns\n     */\n    async setMapType(mapType) {\n        return CapacitorGoogleMaps.setMapType({\n            id: this.id,\n            mapType,\n        });\n    }\n    /**\n     * Sets whether indoor maps are shown, where available.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableIndoorMaps(enabled) {\n        return CapacitorGoogleMaps.enableIndoorMaps({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Controls whether the map is drawing traffic data, if available.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableTrafficLayer(enabled) {\n        return CapacitorGoogleMaps.enableTrafficLayer({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Show accessibility elements for overlay objects, such as Marker and Polyline.\n     *\n     * Only available on iOS.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableAccessibilityElements(enabled) {\n        return CapacitorGoogleMaps.enableAccessibilityElements({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Set whether the My Location dot and accuracy circle is enabled.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableCurrentLocation(enabled) {\n        return CapacitorGoogleMaps.enableCurrentLocation({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Set padding on the 'visible' region of the view.\n     *\n     * @param padding\n     * @returns\n     */\n    async setPadding(padding) {\n        return CapacitorGoogleMaps.setPadding({\n            id: this.id,\n            padding,\n        });\n    }\n    /**\n     * Get the map's current viewport latitude and longitude bounds.\n     *\n     * @returns {LatLngBounds}\n     */\n    async getMapBounds() {\n        return new LatLngBounds(await CapacitorGoogleMaps.getMapBounds({\n            id: this.id,\n        }));\n    }\n    async fitBounds(bounds, padding) {\n        return CapacitorGoogleMaps.fitBounds({\n            id: this.id,\n            bounds,\n            padding,\n        });\n    }\n    initScrolling() {\n        const ionContents = document.getElementsByTagName('ion-content');\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < ionContents.length; i++) {\n            ionContents[i].scrollEvents = true;\n        }\n        window.addEventListener('ionScroll', this.handleScrollEvent);\n        window.addEventListener('scroll', this.handleScrollEvent);\n        window.addEventListener('resize', this.handleScrollEvent);\n        if (screen.orientation) {\n            screen.orientation.addEventListener('change', () => {\n                setTimeout(this.updateMapBounds, 500);\n            });\n        }\n        else {\n            window.addEventListener('orientationchange', () => {\n                setTimeout(this.updateMapBounds, 500);\n            });\n        }\n    }\n    disableScrolling() {\n        window.removeEventListener('ionScroll', this.handleScrollEvent);\n        window.removeEventListener('scroll', this.handleScrollEvent);\n        window.removeEventListener('resize', this.handleScrollEvent);\n        if (screen.orientation) {\n            screen.orientation.removeEventListener('change', () => {\n                setTimeout(this.updateMapBounds, 1000);\n            });\n        }\n        else {\n            window.removeEventListener('orientationchange', () => {\n                setTimeout(this.updateMapBounds, 1000);\n            });\n        }\n    }\n    updateMapBounds() {\n        if (this.element) {\n            const mapRect = this.element.getBoundingClientRect();\n            CapacitorGoogleMaps.onScroll({\n                id: this.id,\n                mapBounds: {\n                    x: mapRect.x,\n                    y: mapRect.y,\n                    width: mapRect.width,\n                    height: mapRect.height,\n                },\n            });\n        }\n    }\n    /*\n    private findContainerElement(): HTMLElement | null {\n      if (!this.element) {\n        return null;\n      }\n  \n      let parentElement = this.element.parentElement;\n      while (parentElement !== null) {\n        if (window.getComputedStyle(parentElement).overflowY !== 'hidden') {\n          return parentElement;\n        }\n  \n        parentElement = parentElement.parentElement;\n      }\n  \n      return null;\n    }\n    */\n    /**\n     * Set the event listener on the map for 'onCameraIdle' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnCameraIdleListener(callback) {\n        if (this.onCameraIdleListener) {\n            this.onCameraIdleListener.remove();\n        }\n        if (callback) {\n            this.onCameraIdleListener = await CapacitorGoogleMaps.addListener('onCameraIdle', this.generateCallback(callback));\n        }\n        else {\n            this.onCameraIdleListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onBoundsChanged' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnBoundsChangedListener(callback) {\n        if (this.onBoundsChangedListener) {\n            this.onBoundsChangedListener.remove();\n        }\n        if (callback) {\n            this.onBoundsChangedListener = await CapacitorGoogleMaps.addListener('onBoundsChanged', this.generateCallback(callback));\n        }\n        else {\n            this.onBoundsChangedListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onCameraMoveStarted' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnCameraMoveStartedListener(callback) {\n        if (this.onCameraMoveStartedListener) {\n            this.onCameraMoveStartedListener.remove();\n        }\n        if (callback) {\n            this.onCameraMoveStartedListener = await CapacitorGoogleMaps.addListener('onCameraMoveStarted', this.generateCallback(callback));\n        }\n        else {\n            this.onCameraMoveStartedListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onClusterClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnClusterClickListener(callback) {\n        if (this.onClusterClickListener) {\n            this.onClusterClickListener.remove();\n        }\n        if (callback) {\n            this.onClusterClickListener = await CapacitorGoogleMaps.addListener('onClusterClick', this.generateCallback(callback));\n        }\n        else {\n            this.onClusterClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onClusterInfoWindowClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnClusterInfoWindowClickListener(callback) {\n        if (this.onClusterInfoWindowClickListener) {\n            this.onClusterInfoWindowClickListener.remove();\n        }\n        if (callback) {\n            this.onClusterInfoWindowClickListener =\n                await CapacitorGoogleMaps.addListener('onClusterInfoWindowClick', this.generateCallback(callback));\n        }\n        else {\n            this.onClusterInfoWindowClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onInfoWindowClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnInfoWindowClickListener(callback) {\n        if (this.onInfoWindowClickListener) {\n            this.onInfoWindowClickListener.remove();\n        }\n        if (callback) {\n            this.onInfoWindowClickListener = await CapacitorGoogleMaps.addListener('onInfoWindowClick', this.generateCallback(callback));\n        }\n        else {\n            this.onInfoWindowClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMapClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMapClickListener(callback) {\n        if (this.onMapClickListener) {\n            this.onMapClickListener.remove();\n        }\n        if (callback) {\n            this.onMapClickListener = await CapacitorGoogleMaps.addListener('onMapClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMapClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onPolygonClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnPolygonClickListener(callback) {\n        if (this.onPolygonClickListener) {\n            this.onPolygonClickListener.remove();\n        }\n        if (callback) {\n            this.onPolygonClickListener = await CapacitorGoogleMaps.addListener('onPolygonClick', this.generateCallback(callback));\n        }\n        else {\n            this.onPolygonClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onCircleClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnCircleClickListener(callback) {\n        if (this.onCircleClickListener)\n            [this.onCircleClickListener.remove()];\n        if (callback) {\n            this.onCircleClickListener = await CapacitorGoogleMaps.addListener('onCircleClick', this.generateCallback(callback));\n        }\n        else {\n            this.onCircleClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMarkerClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMarkerClickListener(callback) {\n        if (this.onMarkerClickListener) {\n            this.onMarkerClickListener.remove();\n        }\n        if (callback) {\n            this.onMarkerClickListener = await CapacitorGoogleMaps.addListener('onMarkerClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMarkerClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onPolylineClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnPolylineClickListener(callback) {\n        if (this.onPolylineClickListener) {\n            this.onPolylineClickListener.remove();\n        }\n        if (callback) {\n            this.onPolylineClickListener = await CapacitorGoogleMaps.addListener('onPolylineClick', this.generateCallback(callback));\n        }\n        else {\n            this.onPolylineClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMarkerDragStart' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMarkerDragStartListener(callback) {\n        if (this.onMarkerDragStartListener) {\n            this.onMarkerDragStartListener.remove();\n        }\n        if (callback) {\n            this.onMarkerDragStartListener = await CapacitorGoogleMaps.addListener('onMarkerDragStart', this.generateCallback(callback));\n        }\n        else {\n            this.onMarkerDragStartListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMarkerDrag' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMarkerDragListener(callback) {\n        if (this.onMarkerDragListener) {\n            this.onMarkerDragListener.remove();\n        }\n        if (callback) {\n            this.onMarkerDragListener = await CapacitorGoogleMaps.addListener('onMarkerDrag', this.generateCallback(callback));\n        }\n        else {\n            this.onMarkerDragListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMarkerDragEnd' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMarkerDragEndListener(callback) {\n        if (this.onMarkerDragEndListener) {\n            this.onMarkerDragEndListener.remove();\n        }\n        if (callback) {\n            this.onMarkerDragEndListener = await CapacitorGoogleMaps.addListener('onMarkerDragEnd', this.generateCallback(callback));\n        }\n        else {\n            this.onMarkerDragEndListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMyLocationButtonClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMyLocationButtonClickListener(callback) {\n        if (this.onMyLocationButtonClickListener) {\n            this.onMyLocationButtonClickListener.remove();\n        }\n        if (callback) {\n            this.onMyLocationButtonClickListener =\n                await CapacitorGoogleMaps.addListener('onMyLocationButtonClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMyLocationButtonClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMyLocationClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMyLocationClickListener(callback) {\n        if (this.onMyLocationClickListener) {\n            this.onMyLocationClickListener.remove();\n        }\n        if (callback) {\n            this.onMyLocationClickListener = await CapacitorGoogleMaps.addListener('onMyLocationClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMyLocationClickListener = undefined;\n        }\n    }\n    /**\n     * Remove all event listeners on the map.\n     *\n     * @param callback\n     * @returns\n     */\n    async removeAllMapListeners() {\n        if (this.onBoundsChangedListener) {\n            this.onBoundsChangedListener.remove();\n            this.onBoundsChangedListener = undefined;\n        }\n        if (this.onCameraIdleListener) {\n            this.onCameraIdleListener.remove();\n            this.onCameraIdleListener = undefined;\n        }\n        if (this.onCameraMoveStartedListener) {\n            this.onCameraMoveStartedListener.remove();\n            this.onCameraMoveStartedListener = undefined;\n        }\n        if (this.onClusterClickListener) {\n            this.onClusterClickListener.remove();\n            this.onClusterClickListener = undefined;\n        }\n        if (this.onClusterInfoWindowClickListener) {\n            this.onClusterInfoWindowClickListener.remove();\n            this.onClusterInfoWindowClickListener = undefined;\n        }\n        if (this.onInfoWindowClickListener) {\n            this.onInfoWindowClickListener.remove();\n            this.onInfoWindowClickListener = undefined;\n        }\n        if (this.onMapClickListener) {\n            this.onMapClickListener.remove();\n            this.onMapClickListener = undefined;\n        }\n        if (this.onPolylineClickListener) {\n            this.onPolylineClickListener.remove();\n            this.onPolylineClickListener = undefined;\n        }\n        if (this.onMarkerClickListener) {\n            this.onMarkerClickListener.remove();\n            this.onMarkerClickListener = undefined;\n        }\n        if (this.onPolygonClickListener) {\n            this.onPolygonClickListener.remove();\n            this.onPolygonClickListener = undefined;\n        }\n        if (this.onCircleClickListener) {\n            this.onCircleClickListener.remove();\n            this.onCircleClickListener = undefined;\n        }\n        if (this.onMarkerDragStartListener) {\n            this.onMarkerDragStartListener.remove();\n            this.onMarkerDragStartListener = undefined;\n        }\n        if (this.onMarkerDragListener) {\n            this.onMarkerDragListener.remove();\n            this.onMarkerDragListener = undefined;\n        }\n        if (this.onMarkerDragEndListener) {\n            this.onMarkerDragEndListener.remove();\n            this.onMarkerDragEndListener = undefined;\n        }\n        if (this.onMyLocationButtonClickListener) {\n            this.onMyLocationButtonClickListener.remove();\n            this.onMyLocationButtonClickListener = undefined;\n        }\n        if (this.onMyLocationClickListener) {\n            this.onMyLocationClickListener.remove();\n            this.onMyLocationClickListener = undefined;\n        }\n    }\n    generateCallback(callback) {\n        const mapId = this.id;\n        return (data) => {\n            if (data.mapId == mapId) {\n                callback(data);\n            }\n        };\n    }\n}\n","import { registerPlugin } from '@capacitor/core';\nconst Preferences = registerPlugin('Preferences', {\n    web: () => import('./web').then(m => new m.PreferencesWeb()),\n});\nexport * from './definitions';\nexport { Preferences };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogLevel = void 0;\n// An enum that declares different types of log levels you can use with the OneSignal SDK, going from the least verbose (none) to verbose (print all comments).\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"None\"] = 0] = \"None\";\n    LogLevel[LogLevel[\"Fatal\"] = 1] = \"Fatal\";\n    LogLevel[LogLevel[\"Error\"] = 2] = \"Error\";\n    LogLevel[LogLevel[\"Warn\"] = 3] = \"Warn\";\n    LogLevel[LogLevel[\"Info\"] = 4] = \"Info\";\n    LogLevel[LogLevel[\"Debug\"] = 5] = \"Debug\";\n    LogLevel[LogLevel[\"Verbose\"] = 6] = \"Verbose\";\n})(LogLevel || (exports.LogLevel = LogLevel = {}));\nvar Debug = /** @class */ (function () {\n    function Debug() {\n    }\n    /**\n     * Enable logging to help debug if you run into an issue setting up OneSignal.\n     * @param  {LogLevel} logLevel - Sets the logging level to print to the Android LogCat log or Xcode log.\n     * @returns void\n     */\n    Debug.prototype.setLogLevel = function (logLevel) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"setLogLevel\", [logLevel]);\n    };\n    ;\n    /**\n     * Enable logging to help debug if you run into an issue setting up OneSignal.\n     * @param  {LogLevel} visualLogLevel - Sets the logging level to show as alert dialogs.\n     * @returns void\n     */\n    Debug.prototype.setAlertLevel = function (visualLogLevel) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"setAlertLevel\", [visualLogLevel]);\n    };\n    return Debug;\n}());\nexports.default = Debug;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InAppMessages = /** @class */ (function () {\n    function InAppMessages() {\n        this._inAppMessageClickListeners = [];\n        this._willDisplayInAppMessageListeners = [];\n        this._didDisplayInAppMessageListeners = [];\n        this._willDismissInAppMessageListeners = [];\n        this._didDismissInAppMessageListeners = [];\n    }\n    InAppMessages.prototype._processFunctionList = function (array, param) {\n        for (var i = 0; i < array.length; i++) {\n            array[i](param);\n        }\n    };\n    /**\n     * Add event listeners for In-App Message click and/or lifecycle events.\n     * @param event\n     * @param listener\n     * @returns\n     */\n    InAppMessages.prototype.addEventListener = function (event, listener) {\n        var _this = this;\n        if (event === \"click\") {\n            this._inAppMessageClickListeners.push(listener);\n            var inAppMessageClickListener = function (json) {\n                _this._processFunctionList(_this._inAppMessageClickListeners, json);\n            };\n            window.cordova.exec(inAppMessageClickListener, function () { }, \"OneSignalPush\", \"setInAppMessageClickHandler\", []);\n        }\n        else if (event === \"willDisplay\") {\n            this._willDisplayInAppMessageListeners.push(listener);\n            var willDisplayCallBackProcessor = function (event) {\n                _this._processFunctionList(_this._willDisplayInAppMessageListeners, event);\n            };\n            window.cordova.exec(willDisplayCallBackProcessor, function () { }, \"OneSignalPush\", \"setOnWillDisplayInAppMessageHandler\", []);\n        }\n        else if (event === \"didDisplay\") {\n            this._didDisplayInAppMessageListeners.push(listener);\n            var didDisplayCallBackProcessor = function (event) {\n                _this._processFunctionList(_this._didDisplayInAppMessageListeners, event);\n            };\n            window.cordova.exec(didDisplayCallBackProcessor, function () { }, \"OneSignalPush\", \"setOnDidDisplayInAppMessageHandler\", []);\n        }\n        else if (event === \"willDismiss\") {\n            this._willDismissInAppMessageListeners.push(listener);\n            var willDismissInAppMessageProcessor = function (event) {\n                _this._processFunctionList(_this._willDismissInAppMessageListeners, event);\n            };\n            window.cordova.exec(willDismissInAppMessageProcessor, function () { }, \"OneSignalPush\", \"setOnWillDismissInAppMessageHandler\", []);\n        }\n        else if (event === \"didDismiss\") {\n            this._didDismissInAppMessageListeners.push(listener);\n            var didDismissInAppMessageCallBackProcessor = function (event) {\n                _this._processFunctionList(_this._didDismissInAppMessageListeners, event);\n            };\n            window.cordova.exec(didDismissInAppMessageCallBackProcessor, function () { }, \"OneSignalPush\", \"setOnDidDismissInAppMessageHandler\", []);\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Remove event listeners for In-App Message click and/or lifecycle events.\n     * @param event\n     * @param listener\n     * @returns\n     */\n    InAppMessages.prototype.removeEventListener = function (event, listener) {\n        if (event === \"click\") {\n            var index = this._inAppMessageClickListeners.indexOf(listener);\n            if (index !== -1) {\n                this._inAppMessageClickListeners.splice(index, 1);\n            }\n        }\n        else {\n            if (event === \"willDisplay\") {\n                var index = this._willDisplayInAppMessageListeners.indexOf(listener);\n                if (index !== -1) {\n                    this._willDisplayInAppMessageListeners.splice(index, 1);\n                }\n            }\n            else if (event === \"didDisplay\") {\n                var index = this._didDisplayInAppMessageListeners.indexOf(listener);\n                if (index !== -1) {\n                    this._willDisplayInAppMessageListeners.splice(index, 1);\n                }\n            }\n            else if (event === \"willDismiss\") {\n                var index = this._willDismissInAppMessageListeners.indexOf(listener);\n                if (index !== -1) {\n                    this._willDismissInAppMessageListeners.splice(index, 1);\n                }\n            }\n            else if (event === \"didDismiss\") {\n                var index = this._didDismissInAppMessageListeners.indexOf(listener);\n                if (index !== -1) {\n                    this._didDismissInAppMessageListeners.splice(index, 1);\n                }\n            }\n            else {\n                return;\n            }\n        }\n    };\n    /**\n     * Add a trigger for the current user. Triggers are currently explicitly used to determine whether a specific IAM should be displayed to the user.\n     * @param  {string} key\n     * @param  {string} value\n     * @returns void\n     */\n    InAppMessages.prototype.addTrigger = function (key, value) {\n        var _a;\n        var obj = (_a = {}, _a[key] = value, _a);\n        this.addTriggers(obj);\n    };\n    ;\n    /**\n     * Add multiple triggers for the current user. Triggers are currently explicitly used to determine whether a specific IAM should be displayed to the user.\n     * @param  {[key: string]: string} triggers\n     * @returns void\n     */\n    InAppMessages.prototype.addTriggers = function (triggers) {\n        Object.keys(triggers).forEach(function (key) {\n            // forces values to be string types\n            if (typeof triggers[key] !== \"string\") {\n                triggers[key] = JSON.stringify(triggers[key]);\n            }\n        });\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addTriggers\", [triggers]);\n    };\n    ;\n    /**\n     * Remove the trigger with the provided key from the current user.\n     * @param  {string} key\n     * @returns void\n     */\n    InAppMessages.prototype.removeTrigger = function (key) {\n        this.removeTriggers([key]);\n    };\n    ;\n    /**\n     * Remove multiple triggers from the current user.\n     * @param  {string[]} keys\n     * @returns void\n     */\n    InAppMessages.prototype.removeTriggers = function (keys) {\n        if (!Array.isArray(keys)) {\n            console.error(\"OneSignal: removeTriggers: argument must be of type Array\");\n        }\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removeTriggers\", [keys]);\n    };\n    ;\n    /**\n     * Clear all triggers from the current user.\n     * @returns void\n     */\n    InAppMessages.prototype.clearTriggers = function () {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"clearTriggers\");\n    };\n    /**\n     * Set whether in-app messaging is currently paused.\n     * When set to true no IAM will be presented to the user regardless of whether they qualify for them.\n     * When set to 'false` any IAMs the user qualifies for will be presented to the user at the appropriate time.\n     * @param  {boolean} pause\n     * @returns void\n     */\n    InAppMessages.prototype.setPaused = function (pause) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"setPaused\", [pause]);\n    };\n    ;\n    /**\n     * Whether in-app messaging is currently paused.\n     * @returns {Promise<boolean>}\n     */\n    InAppMessages.prototype.getPaused = function () {\n        return new Promise(function (resolve, reject) {\n            window.cordova.exec(resolve, reject, \"OneSignalPush\", \"isPaused\", []);\n        });\n    };\n    ;\n    return InAppMessages;\n}());\nexports.default = InAppMessages;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LiveActivities = /** @class */ (function () {\n    function LiveActivities() {\n    }\n    /**\n     * Enter a live activity\n     * @param  {string} activityId\n     * @param  {string} token\n     * @param  {Function} onSuccess\n     * @param  {Function} onFailure\n     * @returns void\n     */\n    LiveActivities.prototype.enter = function (activityId, token, onSuccess, onFailure) {\n        if (onSuccess == null) {\n            onSuccess = function () { };\n        }\n        if (onFailure == null) {\n            onFailure = function () { };\n        }\n        window.cordova.exec(onSuccess, onFailure, \"OneSignalPush\", \"enterLiveActivity\", [activityId, token]);\n    };\n    ;\n    /**\n     * Exit a live activity\n     * @param  {string} activityId\n     * @param  {Function} onSuccess\n     * @param  {Function} onFailure\n     * @returns void\n     */\n    LiveActivities.prototype.exit = function (activityId, onSuccess, onFailure) {\n        if (onSuccess == null) {\n            onSuccess = function () { };\n        }\n        if (onFailure == null) {\n            onFailure = function () { };\n        }\n        window.cordova.exec(onSuccess, onFailure, \"OneSignalPush\", \"exitLiveActivity\", [activityId]);\n    };\n    ;\n    /**\n     * Indicate this device is capable of receiving pushToStart live activities for the\n     * `activityType`. The `activityType` **must** be the name of the struct conforming\n     * to `ActivityAttributes` that will be used to start the live activity.\n     *\n     * Only applies to iOS\n     *\n     * @param {string} activityType: The name of the specific `ActivityAttributes` structure tied\n     * to the live activity.\n     * @param {string} token: The activity type's pushToStart token.\n     */\n    LiveActivities.prototype.setPushToStartToken = function (activityType, token) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"setPushToStartToken\", [activityType, token]);\n    };\n    /**\n     * Indicate this device is no longer capable of receiving pushToStart live activities\n     * for the `activityType`. The `activityType` **must** be the name of the struct conforming\n     * to `ActivityAttributes` that will be used to start the live activity.\n     *\n     * Only applies to iOS\n     *\n     * @param {string} activityType: The name of the specific `ActivityAttributes` structure tied\n     * to the live activity.\n     */\n    LiveActivities.prototype.removePushToStartToken = function (activityType) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removePushToStartToken\", [activityType]);\n    };\n    /**\n     * Enable the OneSignalSDK to setup the default`DefaultLiveActivityAttributes` structure,\n     * which conforms to the `OneSignalLiveActivityAttributes`. When using this function, the\n     * widget attributes are owned by the OneSignal SDK, which will allow the SDK to handle the\n     * entire lifecycle of the live activity.  All that is needed from an app-perspective is to\n     * create a Live Activity widget in a widget extension, with a `ActivityConfiguration` for\n     * `DefaultLiveActivityAttributes`. This is most useful for users that (1) only have one Live\n     * Activity widget and (2) are using a cross-platform framework and do not want to create the\n     * cross-platform <-> iOS native bindings to manage ActivityKit.\n     *\n     * Only applies to iOS\n     *\n     * @param {LiveActivitySetupOptions} options: An optional structure to provide for more granular setup options.\n     */\n    LiveActivities.prototype.setupDefault = function (options) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"setupDefaultLiveActivity\", [options]);\n    };\n    /**\n     * Start a new LiveActivity that is modelled by the default`DefaultLiveActivityAttributes`\n     * structure. The `DefaultLiveActivityAttributes` is initialized with the dynamic `attributes`\n     * and `content` passed in.\n     *\n     * Only applies to iOS\n     *\n     * @param {string} activityId: The activity identifier the live activity on this device will be started\n     * and eligible to receive updates for.\n     * @param {object} attributes: A dynamic type containing the static attributes passed into `DefaultLiveActivityAttributes`.\n     * @param {object} content: A dynamic type containing the content attributes passed into `DefaultLiveActivityAttributes`.\n     */\n    LiveActivities.prototype.startDefault = function (activityId, attributes, content) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"startDefaultLiveActivity\", [activityId, attributes, content]);\n    };\n    return LiveActivities;\n}());\nexports.default = LiveActivities;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Location = /** @class */ (function () {\n    function Location() {\n    }\n    /**\n     * Location\n     */\n    /**\n     * Prompts the user for location permissions to allow geotagging from the OneSignal dashboard.\n     * @returns void\n     */\n    Location.prototype.requestPermission = function () {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"requestLocationPermission\", []);\n    };\n    ;\n    /**\n     * Disable or enable location collection (defaults to enabled if your app has location permission).\n     * @param  {boolean} shared\n     * @returns void\n     */\n    Location.prototype.setShared = function (shared) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"setLocationShared\", [shared]);\n    };\n    ;\n    /**\n     * Whether location is currently shared with OneSignal.\n     * @returns {Promise<boolean>}\n     */\n    Location.prototype.isShared = function () {\n        return new Promise(function (resolve, reject) {\n            window.cordova.exec(resolve, reject, \"OneSignalPush\", \"isLocationShared\", []);\n        });\n    };\n    ;\n    return Location;\n}());\nexports.default = Location;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotificationWillDisplayEvent = void 0;\nvar OSNotification_1 = require(\"./OSNotification\");\nvar NotificationWillDisplayEvent = /** @class */ (function () {\n    function NotificationWillDisplayEvent(displayEvent) {\n        this.notification = new OSNotification_1.OSNotification(displayEvent);\n    }\n    NotificationWillDisplayEvent.prototype.preventDefault = function () {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"preventDefault\", [this.notification.notificationId]);\n        return;\n    };\n    NotificationWillDisplayEvent.prototype.getNotification = function () {\n        return this.notification;\n    };\n    return NotificationWillDisplayEvent;\n}());\nexports.NotificationWillDisplayEvent = NotificationWillDisplayEvent;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OSNotificationPermission = void 0;\nvar NotificationReceivedEvent_1 = require(\"./NotificationReceivedEvent\");\nvar OSNotificationPermission;\n(function (OSNotificationPermission) {\n    OSNotificationPermission[OSNotificationPermission[\"NotDetermined\"] = 0] = \"NotDetermined\";\n    OSNotificationPermission[OSNotificationPermission[\"Denied\"] = 1] = \"Denied\";\n    OSNotificationPermission[OSNotificationPermission[\"Authorized\"] = 2] = \"Authorized\";\n    OSNotificationPermission[OSNotificationPermission[\"Provisional\"] = 3] = \"Provisional\";\n    OSNotificationPermission[OSNotificationPermission[\"Ephemeral\"] = 4] = \"Ephemeral\";\n})(OSNotificationPermission || (exports.OSNotificationPermission = OSNotificationPermission = {}));\nvar Notifications = /** @class */ (function () {\n    function Notifications() {\n        this._permissionObserverList = [];\n        this._notificationClickedListeners = [];\n        this._notificationWillDisplayListeners = [];\n    }\n    Notifications.prototype._processFunctionList = function (array, param) {\n        for (var i = 0; i < array.length; i++) {\n            array[i](param);\n        }\n    };\n    /**\n     * Sets initial permission value and adds observer for changes.\n     * This internal method is kept to support the deprecated method {@link hasPermission}.\n     */\n    Notifications.prototype._setPropertyAndObserver = function () {\n        var _this = this;\n        var getPermissionCallback = function (granted) {\n            _this._permission = granted;\n        };\n        window.cordova.exec(getPermissionCallback, function () { }, \"OneSignalPush\", \"getPermissionInternal\");\n        this.addEventListener(\"permissionChange\", function (result) {\n            _this._permission = result;\n        });\n    };\n    /**\n     * @deprecated This method is deprecated. It has been replaced by {@link getPermissionAsync}.\n     */\n    Notifications.prototype.hasPermission = function () {\n        return this._permission || false;\n    };\n    /**\n     * Whether this app has push notification permission. Returns true if the user has accepted permissions,\n     * or if the app has ephemeral or provisional permission.\n     */\n    Notifications.prototype.getPermissionAsync = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        window.cordova.exec(resolve, reject, \"OneSignalPush\", \"getPermissionInternal\");\n                    })];\n            });\n        });\n    };\n    /** iOS Only.\n     * Returns the enum for the native permission of the device. It will be one of:\n     * OSNotificationPermissionNotDetermined,\n     * OSNotificationPermissionDenied,\n     * OSNotificationPermissionAuthorized,\n     * OSNotificationPermissionProvisional - only available in iOS 12,\n     * OSNotificationPermissionEphemeral - only available in iOS 14\n     *\n     * @returns {Promise<OSNotificationPermission>}\n     *\n     * */\n    Notifications.prototype.permissionNative = function () {\n        return new Promise(function (resolve, reject) {\n            window.cordova.exec(resolve, reject, \"OneSignalPush\", \"permissionNative\", []);\n        });\n    };\n    /**\n     * Prompt the user for permission to receive push notifications. This will display the native system prompt to request push notification permission.\n     * Use the fallbackToSettings parameter to prompt to open the settings app if a user has already declined push permissions.\n     *\n     *\n     * @param  {boolean} fallbackToSettings\n     * @returns {Promise<boolean>}\n     */\n    Notifications.prototype.requestPermission = function (fallbackToSettings) {\n        var fallback = fallbackToSettings !== null && fallbackToSettings !== void 0 ? fallbackToSettings : false;\n        return new Promise(function (resolve, reject) {\n            window.cordova.exec(resolve, reject, \"OneSignalPush\", \"requestPermission\", [fallback]);\n        });\n    };\n    ;\n    /**\n     * Whether attempting to request notification permission will show a prompt. Returns true if the device has not been prompted for push notification permission already.\n     * @returns {Promise<boolean>}\n     */\n    Notifications.prototype.canRequestPermission = function () {\n        return new Promise(function (resolve, reject) {\n            window.cordova.exec(resolve, reject, \"OneSignalPush\", \"canRequestPermission\", []);\n        });\n    };\n    ;\n    /**\n     * iOS Only\n     */\n    /**\n     * Instead of having to prompt the user for permission to send them push notifications, your app can request provisional authorization.\n     *\n     * For more information: https://documentation.onesignal.com/docs/ios-customizations#provisional-push-notifications\n     *\n     * @param  {(response: boolean)=>void} handler\n     * @returns void\n     */\n    Notifications.prototype.registerForProvisionalAuthorization = function (handler) {\n        window.cordova.exec(handler, function () { }, \"OneSignalPush\", \"registerForProvisionalAuthorization\", []);\n    };\n    ;\n    /**\n     * Add listeners for notification events.\n     * @param event\n     * @param listener\n     * @returns\n     */\n    Notifications.prototype.addEventListener = function (event, listener) {\n        var _this = this;\n        if (event === \"click\") {\n            this._notificationClickedListeners.push(listener);\n            var clickParsingHandler = function (json) {\n                _this._processFunctionList(_this._notificationClickedListeners, json);\n            };\n            window.cordova.exec(clickParsingHandler, function () { }, \"OneSignalPush\", \"addNotificationClickListener\", []);\n        }\n        else if (event === \"foregroundWillDisplay\") {\n            this._notificationWillDisplayListeners.push(listener);\n            var foregroundParsingHandler = function (notification) {\n                _this._notificationWillDisplayListeners.forEach(function (listener) {\n                    listener(new NotificationReceivedEvent_1.NotificationWillDisplayEvent(notification));\n                });\n                window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"proceedWithWillDisplay\", [notification.notificationId]);\n            };\n            window.cordova.exec(foregroundParsingHandler, function () { }, \"OneSignalPush\", \"addForegroundLifecycleListener\", []);\n        }\n        else if (event === \"permissionChange\") {\n            this._permissionObserverList.push(listener);\n            var permissionCallBackProcessor = function (state) {\n                _this._processFunctionList(_this._permissionObserverList, state);\n            };\n            window.cordova.exec(permissionCallBackProcessor, function () { }, \"OneSignalPush\", \"addPermissionObserver\", []);\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Remove listeners for notification events.\n     * @param event\n     * @param listener\n     * @returns\n     */\n    Notifications.prototype.removeEventListener = function (event, listener) {\n        if (event === \"click\") {\n            var index = this._notificationClickedListeners.indexOf(listener);\n            if (index !== -1) {\n                this._notificationClickedListeners.splice(index, 1);\n            }\n        }\n        else if (event === \"foregroundWillDisplay\") {\n            var index = this._notificationWillDisplayListeners.indexOf(listener);\n            if (index !== -1) {\n                this._notificationWillDisplayListeners.splice(index, 1);\n            }\n        }\n        else if (event === \"permissionChange\") {\n            var index = this._permissionObserverList.indexOf(listener);\n            if (index !== -1) {\n                this._permissionObserverList.splice(index, 1);\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Removes all OneSignal notifications.\n     * @returns void\n     */\n    Notifications.prototype.clearAll = function () {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"clearAllNotifications\", []);\n    };\n    ;\n    /**\n     * Android Only\n     */\n    /**\n     * Android only.\n     * Cancels a single OneSignal notification based on its Android notification integer ID. Use instead of Android's [android.app.NotificationManager.cancel], otherwise the notification will be restored when your app is restarted.\n     * @param  {number} id - notification id to cancel\n     * @returns void\n     */\n    Notifications.prototype.removeNotification = function (id) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removeNotification\", [id]);\n    };\n    ;\n    /**\n     * Android only.\n     * Cancels a group of OneSignal notifications with the provided group key. Grouping notifications is a OneSignal concept, there is no [android.app.NotificationManager] equivalent.\n     * @param  {string} id - notification group id to cancel\n     * @returns void\n     */\n    Notifications.prototype.removeGroupedNotifications = function (id) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removeGroupedNotifications\", [id]);\n    };\n    ;\n    return Notifications;\n}());\nexports.default = Notifications;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OSNotification = void 0;\nvar OSNotification = /** @class */ (function () {\n    function OSNotification(receivedEvent) {\n        /// The OneSignal notification ID for this notification\n        this.notificationId = receivedEvent.notificationId;\n        /// The body (should contain most of the text)\n        this.body = receivedEvent.body;\n        /// The title for the notification\n        this.title = receivedEvent.title;\n        /// Any additional custom data you want to send along\n        /// with this notification.\n        this.additionalData = receivedEvent.additionalData;\n        /// A hashmap object representing the raw key/value\n        /// properties of the push notification\n        if (typeof receivedEvent.rawPayload === 'string') {\n            this.rawPayload = JSON.parse(receivedEvent.rawPayload);\n        }\n        else {\n            this.rawPayload = receivedEvent.rawPayload;\n        }\n        /// If set, the launch URL will be opened when the user\n        /// taps on your push notification. You can control\n        /// whether or not it opens in an in-app webview or\n        /// in Safari (with iOS).\n        this.launchURL = receivedEvent.launchURL;\n        /// The sound file (ie. ping.aiff) that should be played\n        /// when the notification is received\n        this.sound = receivedEvent.sound;\n        /// Any buttons you want to add to the notification.\n        /// The notificationClick listener will provide an\n        /// OSNotificationAction object, which will contain\n        /// the ID of the Action the user tapped.\n        if (receivedEvent.actionButtons) {\n            this.actionButtons = receivedEvent.actionButtons;\n        }\n        // Android\n        /// (Android only)\n        /// All notifications with the same group key\n        /// from the same app will be grouped together\n        if (receivedEvent.groupKey) {\n            this.groupKey = receivedEvent.groupKey;\n        }\n        /// (Android Only)\n        /// The color to use to light up the LED (if\n        /// applicable) when the notification is received\n        /// Given in hex ARGB format.\n        if (receivedEvent.ledColor) {\n            this.ledColor = receivedEvent.ledColor;\n        }\n        /// (Android Only)\n        /// The priority used with GCM/FCM to describe how\n        /// urgent the notification is. A higher priority\n        /// means the notification will be delivered faster.\n        if (typeof (receivedEvent.priority) !== \"undefined\") {\n            this.priority = receivedEvent.priority;\n        }\n        /// (Android Only)\n        /// The filename of the image to use as the small\n        /// icon for the notification\n        if (receivedEvent.smallIcon) {\n            this.smallIcon = receivedEvent.smallIcon;\n        }\n        /// (Android Only)\n        /// The filename for the image to use as the large\n        /// icon for the notification\n        if (receivedEvent.largeIcon) {\n            this.largeIcon = receivedEvent.largeIcon;\n        }\n        /// (Android Only)\n        /// The URL or filename for the image to use as\n        /// the big picture for the notification\n        if (receivedEvent.bigPicture) {\n            this.bigPicture = receivedEvent.bigPicture;\n        }\n        /// (Android Only)\n        /// The collapse ID for the notification\n        /// As opposed to groupKey (which causes stacking),\n        /// the collapse ID will completely replace any\n        /// previously received push notifications that\n        /// use the same collapse_id\n        if (receivedEvent.collapseId) {\n            this.collapseId = receivedEvent.collapseId;\n        }\n        /// (Android only) Android 6 and earlier only\n        /// The message to display when multiple\n        /// notifications have been stacked together.\n        /// Note: Android 7 allows groups (stacks)\n        /// to be expanded, so group message is no\n        /// longer necessary\n        if (receivedEvent.groupMessage) {\n            this.groupMessage = receivedEvent.groupMessage;\n        }\n        /// (Android Only)\n        /// Tells you what project number/sender ID\n        /// the notification was sent from\n        if (receivedEvent.fromProjectNumber) {\n            this.fromProjectNumber = receivedEvent.fromProjectNumber;\n        }\n        /// (Android Only)\n        /// The accent color to use on the notification\n        /// Hex value in ARGB format (it's a normal\n        /// hex color value, but it includes the alpha\n        /// channel in addition to red, green, blue)\n        if (receivedEvent.smallIconAccentColor) {\n            this.smallIconAccentColor = receivedEvent.smallIconAccentColor;\n        }\n        /// (Android only) API level 21+\n        /// Sets the visibility of the notification\n        ///  1 = Public (default)\n        ///  0 = Private (hidden from lock screen\n        ///    if user set 'Hide Sensitive content')\n        ///  -1 = Secret (doesn't appear at all)\n        if (receivedEvent.lockScreenVisibility) {\n            this.lockScreenVisibility = receivedEvent.lockScreenVisibility;\n        }\n        /// (Android Only)\n        /// The android notification ID (not same as  the OneSignal\n        /// notification ID)\n        if (receivedEvent.androidNotificationId) {\n            this.androidNotificationId = receivedEvent.androidNotificationId;\n        }\n        /// (Android Only)\n        /// Summary notifications grouped\n        /// Notification payload will have the most recent notification received.\n        if (receivedEvent.groupedNotifications && receivedEvent.groupedNotifications.length) {\n            this.groupedNotifications = receivedEvent.groupedNotifications;\n        }\n        // iOS\n        /// (iOS Only)\n        /// If you set the badge to a specific value, this integer\n        /// property will be that value\n        if (receivedEvent.badge) {\n            this.badge = receivedEvent.badge;\n        }\n        /// (iOS Only)\n        /// The category for this notification. This can trigger custom\n        /// behavior (ie. if this notification should display a\n        /// custom Content Extension for custom UI)\n        if (receivedEvent.category) {\n            this.category = receivedEvent.category;\n        }\n        /// (iOS Only)\n        /// iOS 10+ : Groups notifications into threads\n        if (receivedEvent.threadId) {\n            this.threadId = receivedEvent.threadId;\n        }\n        /// (iOS Only)\n        /// The subtitle of the notification\n        if (receivedEvent.subtitle) {\n            this.subtitle = receivedEvent.subtitle;\n        }\n        /// If this notification was created from a Template on the\n        /// OneSignal dashboard, this will be the ID of that template\n        if (receivedEvent.templateId) {\n            this.templateId = receivedEvent.templateId;\n        }\n        /// (iOS Only)\n        /// Any attachments (images, sounds, videos) you want\n        /// to display with this notification.\n        if (receivedEvent.attachments) {\n            this.attachments = receivedEvent.attachments;\n        }\n        /// The name of the template (if any) that was used to\n        /// create this push notification\n        if (receivedEvent.templateName) {\n            this.templateName = receivedEvent.templateName;\n        }\n        /// (iOS Only)\n        /// Tells the system to launch the Notification Extension Service\n        if (receivedEvent.mutableContent) {\n            this.mutableContent = receivedEvent.mutableContent;\n        }\n        /// (iOS Only)\n        /// If you want to increment the badge by some value, this\n        /// integer will be the increment/decrement\n        if (receivedEvent.badgeIncrement) {\n            this.badgeIncrement = receivedEvent.badgeIncrement;\n        }\n        /// (iOS Only)\n        /// Tells the system to launch your app in the background (ie. if\n        /// content is available to download in the background)\n        if (receivedEvent.contentAvailable) {\n            this.contentAvailable = receivedEvent.contentAvailable;\n        }\n        /// (iOS Only)\n        /// value between 0 and 1 for sorting notifications in a notification summary\n        if (receivedEvent.relevanceScore) {\n            this.relevanceScore = receivedEvent.relevanceScore;\n        }\n        /// (iOS Only)\n        /// The interruption level for the notification. This controls how the\n        /// notification will be displayed to the user if they are using focus modes\n        /// or notification summaries\n        if (receivedEvent.interruptionLevel) {\n            this.interruptionLevel = receivedEvent.interruptionLevel;\n        }\n    }\n    /**\n     * Display the notification.\n     * @returns void\n     */\n    OSNotification.prototype.display = function () {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"displayNotification\", [this.notificationId]);\n        return;\n    };\n    return OSNotification;\n}());\nexports.OSNotification = OSNotification;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PushSubscription = /** @class */ (function () {\n    function PushSubscription() {\n        this._subscriptionObserverList = [];\n    }\n    PushSubscription.prototype._processFunctionList = function (array, param) {\n        for (var i = 0; i < array.length; i++) {\n            array[i](param);\n        }\n    };\n    /**\n     * Sets initial Push Subscription properties and adds observer for changes.\n     * This internal method is kept to support the deprecated methods {@link id}, {@link token}, {@link optedIn}.\n     */\n    PushSubscription.prototype._setPropertiesAndObserver = function () {\n        var _this = this;\n        /**\n         * Receive push Id\n         * @param obj\n         */\n        var getIdCallback = function (id) {\n            _this._id = id;\n        };\n        window.cordova.exec(getIdCallback, function () { }, \"OneSignalPush\", \"getPushSubscriptionId\");\n        /**\n         * Receive token\n         * @param obj\n         */\n        var getTokenCallback = function (token) {\n            _this._token = token;\n        };\n        window.cordova.exec(getTokenCallback, function () { }, \"OneSignalPush\", \"getPushSubscriptionToken\");\n        /**\n         * Receive opted-in status\n         * @param granted\n         */\n        var getOptedInCallback = function (granted) {\n            _this._optedIn = granted;\n        };\n        window.cordova.exec(getOptedInCallback, function () { }, \"OneSignalPush\", \"getPushSubscriptionOptedIn\");\n        this.addEventListener(\"change\", function (subscriptionChange) {\n            _this._id = subscriptionChange.current.id;\n            _this._token = subscriptionChange.current.token;\n            _this._optedIn = subscriptionChange.current.optedIn;\n        });\n    };\n    Object.defineProperty(PushSubscription.prototype, \"id\", {\n        /**\n         * @deprecated This method is deprecated. It has been replaced by {@link getIdAsync}.\n         */\n        get: function () {\n            console.warn(\"OneSignal: This method has been deprecated. Use getIdAsync instead for getting push subscription id.\");\n            return this._id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PushSubscription.prototype, \"token\", {\n        /**\n         * @deprecated This method is deprecated. It has been replaced by {@link getTokenAsync}.\n         */\n        get: function () {\n            console.warn(\"OneSignal: This method has been deprecated. Use getTokenAsync instead for getting push subscription token.\");\n            return this._token;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PushSubscription.prototype, \"optedIn\", {\n        /**\n         * @deprecated This method is deprecated. It has been replaced by {@link getOptedInAsync}.\n         */\n        get: function () {\n            console.warn(\"OneSignal: This method has been deprecated. Use getOptedInAsync instead for getting push subscription opted in status.\");\n            return this._optedIn || false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * The readonly push subscription ID.\n     * @returns {Promise<string | null>}\n     */\n    PushSubscription.prototype.getIdAsync = function () {\n        return new Promise(function (resolve, reject) {\n            window.cordova.exec(resolve, reject, \"OneSignalPush\", \"getPushSubscriptionId\");\n        });\n    };\n    /**\n     * The readonly push token.\n     * @returns {Promise<string | null>}\n     */\n    PushSubscription.prototype.getTokenAsync = function () {\n        return new Promise(function (resolve, reject) {\n            window.cordova.exec(resolve, reject, \"OneSignalPush\", \"getPushSubscriptionToken\");\n        });\n    };\n    /**\n     * Gets a boolean value indicating whether the current user is opted in to push notifications.\n     * This returns true when the app has notifications permission and optOut() is NOT called.\n     * Note: Does not take into account the existence of the subscription ID and push token.\n     * This boolean may return true but push notifications may still not be received by the user.\n     * @returns {Promise<boolean>}\n     */\n    PushSubscription.prototype.getOptedInAsync = function () {\n        return new Promise(function (resolve, reject) {\n            window.cordova.exec(resolve, reject, \"OneSignalPush\", \"getPushSubscriptionOptedIn\");\n        });\n    };\n    /**\n     * Add a callback that fires when the OneSignal push subscription state changes.\n     * @param  {(event: PushSubscriptionChangedState)=>void} listener\n     * @returns void\n     */\n    PushSubscription.prototype.addEventListener = function (event, listener) {\n        var _this = this;\n        this._subscriptionObserverList.push(listener);\n        var subscriptionCallBackProcessor = function (state) {\n            _this._processFunctionList(_this._subscriptionObserverList, state);\n        };\n        window.cordova.exec(subscriptionCallBackProcessor, function () { }, \"OneSignalPush\", \"addPushSubscriptionObserver\", []);\n    };\n    /**\n     * Remove a push subscription observer that has been previously added.\n     * @param  {(event: PushSubscriptionChangedState)=>void} listener\n     * @returns void\n     */\n    PushSubscription.prototype.removeEventListener = function (event, listener) {\n        var index = this._subscriptionObserverList.indexOf(listener);\n        if (index !== -1) {\n            this._subscriptionObserverList.splice(index, 1);\n        }\n    };\n    /**\n     * Call this method to receive push notifications on the device or to resume receiving of push notifications after calling optOut. If needed, this method will prompt the user for push notifications permission.\n     * @returns void\n     */\n    PushSubscription.prototype.optIn = function () {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"optInPushSubscription\");\n    };\n    /**\n     * If at any point you want the user to stop receiving push notifications on the current device (regardless of system-level permission status), you can call this method to opt out.\n     * @returns void\n     */\n    PushSubscription.prototype.optOut = function () {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"optOutPushSubscription\");\n    };\n    return PushSubscription;\n}());\nexports.default = PushSubscription;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Session = /** @class */ (function () {\n    function Session() {\n    }\n    /**\n     * Outcomes\n     */\n    /**\n     * Add an outcome with the provided name, captured against the current session.\n     * @param  {string} name\n     * @returns void\n     */\n    Session.prototype.addOutcome = function (name) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addOutcome\", [name]);\n    };\n    ;\n    /**\n     * Add a unique outcome with the provided name, captured against the current session.\n     * @param  {string} name\n     * @returns void\n     */\n    Session.prototype.addUniqueOutcome = function (name) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addUniqueOutcome\", [name]);\n    };\n    ;\n    /**\n     * Add an outcome with the provided name and value, captured against the current session.\n     * @param  {string} name\n     * @param  {number} value\n     * @returns void\n     */\n    Session.prototype.addOutcomeWithValue = function (name, value) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addOutcomeWithValue\", [name, value]);\n    };\n    ;\n    return Session;\n}());\nexports.default = Session;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PushSubscriptionNamespace_1 = __importDefault(require(\"./PushSubscriptionNamespace\"));\nvar User = /** @class */ (function () {\n    function User() {\n        // The push subscription associated to the current user.\n        this.pushSubscription = new PushSubscriptionNamespace_1.default();\n        this._userStateObserverList = [];\n    }\n    User.prototype._processFunctionList = function (array, param) {\n        for (var i = 0; i < array.length; i++) {\n            array[i](param);\n        }\n    };\n    /**\n     * Explicitly set a 2-character language code for the user.\n     * @param  {string} language\n     * @returns void\n     */\n    User.prototype.setLanguage = function (language) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"setLanguage\", [language]);\n    };\n    ;\n    /**\n     * Aliases\n     */\n    /**\n     * Set an alias for the current user. If this alias label already exists on this user, it will be overwritten with the new alias id.\n     * @param  {string} label\n     * @param  {string} id\n     * @returns void\n     */\n    User.prototype.addAlias = function (label, id) {\n        var _a;\n        var jsonKeyValue = (_a = {}, _a[label] = id, _a);\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addAliases\", [jsonKeyValue]);\n    };\n    ;\n    /**\n     * Set aliases for the current user. If any alias already exists, it will be overwritten to the new values.\n     * @param {object} aliases\n     * @returns void\n     */\n    User.prototype.addAliases = function (aliases) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addAliases\", [aliases]);\n    };\n    ;\n    /**\n     * Remove an alias from the current user.\n     * @param  {string} label\n     * @returns void\n     */\n    User.prototype.removeAlias = function (label) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removeAliases\", [label]);\n    };\n    ;\n    /**\n     * Remove aliases from the current user.\n     * @param  {string[]} labels\n     * @returns void\n     */\n    User.prototype.removeAliases = function (labels) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removeAliases\", labels);\n    };\n    ;\n    /**\n     * Email\n     */\n    /**\n     * Add a new email subscription to the current user.\n     * @param  {string} email\n     * @returns void\n     */\n    User.prototype.addEmail = function (email) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addEmail\", [email]);\n    };\n    ;\n    /**\n     * Remove an email subscription from the current user. Returns false if the specified email does not exist on the user within the SDK, and no request will be made.\n     * @param {string} email\n     * @returns void\n     */\n    User.prototype.removeEmail = function (email) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removeEmail\", [email]);\n    };\n    ;\n    /**\n     * SMS\n     */\n    /**\n     * Add a new SMS subscription to the current user.\n     * @param  {string} smsNumber\n     * @returns void\n     */\n    User.prototype.addSms = function (smsNumber) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addSms\", [smsNumber]);\n    };\n    ;\n    /**\n     * Remove an SMS subscription from the current user. Returns false if the specified SMS number does not exist on the user within the SDK, and no request will be made.\n     * @param {string} smsNumber\n     * @returns void\n     */\n    User.prototype.removeSms = function (smsNumber) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removeSms\", [smsNumber]);\n    };\n    ;\n    /**\n     * Tags\n     */\n    /**\n     * Add a tag for the current user. Tags are key:value string pairs used as building blocks for targeting specific users and/or personalizing messages. If the tag key already exists, it will be replaced with the value provided here.\n     * @param  {string} key\n     * @param  {string} value\n     * @returns void\n     */\n    User.prototype.addTag = function (key, value) {\n        var _a;\n        var jsonKeyValue = (_a = {}, _a[key] = value, _a);\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addTags\", [jsonKeyValue]);\n    };\n    ;\n    /**\n     * Add multiple tags for the current user. Tags are key:value string pairs used as building blocks for targeting specific users and/or personalizing messages. If the tag key already exists, it will be replaced with the value provided here.\n     * @param  {object} tags\n     * @returns void\n     */\n    User.prototype.addTags = function (tags) {\n        var convertedTags = tags;\n        Object.keys(tags).forEach(function (key) {\n            // forces values to be string types\n            if (typeof convertedTags[key] !== \"string\") {\n                convertedTags[key] = JSON.stringify(convertedTags[key]);\n            }\n        });\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"addTags\", [convertedTags]);\n    };\n    ;\n    /**\n     * Remove the data tag with the provided key from the current user.\n     * @param  {string} key\n     * @returns void\n     */\n    User.prototype.removeTag = function (key) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removeTags\", [key]);\n    };\n    ;\n    /**\n     * Remove multiple tags with the provided keys from the current user.\n     * @param  {string[]} keys\n     * @returns void\n     */\n    User.prototype.removeTags = function (keys) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"removeTags\", keys);\n    };\n    ;\n    /** Returns the local tags for the current user.\n     * @returns Promise<{ [key: string]: string }>\n     */\n    User.prototype.getTags = function () {\n        return new Promise(function (resolve, reject) {\n            window.cordova.exec(resolve, reject, \"OneSignalPush\", \"getTags\", []);\n        });\n    };\n    ;\n    /**\n     * Add a callback that fires when the OneSignal User state changes.\n     * Important: When using the observer to retrieve the onesignalId, check the externalId as well to confirm the values are associated with the expected user.\n     * @param  {(event: UserChangedState)=>void} listener\n     * @returns void\n     */\n    User.prototype.addEventListener = function (event, listener) {\n        var _this = this;\n        this._userStateObserverList.push(listener);\n        var userCallBackProcessor = function (state) {\n            _this._processFunctionList(_this._userStateObserverList, state);\n        };\n        window.cordova.exec(userCallBackProcessor, function () { }, \"OneSignalPush\", \"addUserStateObserver\", []);\n    };\n    /**\n     * Remove a User State observer that has been previously added.\n     * @param  {(event: UserChangedState)=>void} listener\n     * @returns void\n     */\n    User.prototype.removeEventListener = function (event, listener) {\n        var index = this._userStateObserverList.indexOf(listener);\n        if (index !== -1) {\n            this._userStateObserverList.splice(index, 1);\n        }\n    };\n    /**\n     * Get the nullable OneSignal Id associated with the current user.\n     * @returns {Promise<string | null>}\n     */\n    User.prototype.getOnesignalId = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        window.cordova.exec(resolve, reject, \"OneSignalPush\", \"getOnesignalId\", []);\n                    })];\n            });\n        });\n    };\n    /**\n     * Get the nullable External Id associated with the current user.\n     * @returns {Promise<string | null>}\n     */\n    User.prototype.getExternalId = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        window.cordova.exec(resolve, reject, \"OneSignalPush\", \"getExternalId\", []);\n                    })];\n            });\n        });\n    };\n    return User;\n}());\nexports.default = User;\n","\"use strict\";\n/**\n * Modified MIT License\n *\n * Copyright 2019 OneSignal\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * 1. The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * 2. All copies of substantial portions of the Software may only be used in connection\n * with services provided by OneSignal.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotificationWillDisplayEvent = exports.OSNotificationPermission = exports.OSNotification = exports.LogLevel = exports.OneSignalPlugin = void 0;\nvar UserNamespace_1 = __importDefault(require(\"./UserNamespace\"));\nvar DebugNamespace_1 = __importDefault(require(\"./DebugNamespace\"));\nvar SessionNamespace_1 = __importDefault(require(\"./SessionNamespace\"));\nvar LocationNamespace_1 = __importDefault(require(\"./LocationNamespace\"));\nvar InAppMessagesNamespace_1 = __importDefault(require(\"./InAppMessagesNamespace\"));\nvar NotificationsNamespace_1 = __importDefault(require(\"./NotificationsNamespace\"));\nvar LiveActivitiesNamespace_1 = __importDefault(require(\"./LiveActivitiesNamespace\"));\nvar OneSignalPlugin = /** @class */ (function () {\n    function OneSignalPlugin() {\n        this.User = new UserNamespace_1.default();\n        this.Debug = new DebugNamespace_1.default();\n        this.Session = new SessionNamespace_1.default();\n        this.Location = new LocationNamespace_1.default();\n        this.InAppMessages = new InAppMessagesNamespace_1.default();\n        this.Notifications = new NotificationsNamespace_1.default();\n        this.LiveActivities = new LiveActivitiesNamespace_1.default();\n        this._appID = \"\";\n    }\n    /**\n     * Initializes the OneSignal SDK. This should be called during startup of the application.\n     * @param  {string} appId\n     * @returns void\n     */\n    OneSignalPlugin.prototype.initialize = function (appId) {\n        var _this = this;\n        this._appID = appId;\n        var observerCallback = function () {\n            _this.User.pushSubscription._setPropertiesAndObserver();\n            _this.Notifications._setPropertyAndObserver();\n        };\n        window.cordova.exec(observerCallback, function () { }, \"OneSignalPush\", \"init\", [this._appID]);\n    };\n    ;\n    /**\n     * Login to OneSignal under the user identified by the [externalId] provided. The act of logging a user into the OneSignal SDK will switch the [user] context to that specific user.\n     * @param  {string} externalId\n     * @returns void\n     */\n    OneSignalPlugin.prototype.login = function (externalId) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"login\", [externalId]);\n    };\n    /**\n     * Logout the user previously logged in via [login]. The [user] property now references a new device-scoped user.\n     * @param  {string} externalId\n     * @returns void\n     */\n    OneSignalPlugin.prototype.logout = function () {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"logout\");\n    };\n    /**\n      * Determines whether a user must consent to privacy prior to their user data being sent up to OneSignal. This should be set to true prior to the invocation of initialization to ensure compliance.\n      * @param  {boolean} required\n      * @returns void\n      */\n    OneSignalPlugin.prototype.setConsentRequired = function (required) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"setPrivacyConsentRequired\", [required]);\n    };\n    ;\n    /**\n     * Indicates whether privacy consent has been granted. This field is only relevant when the application has opted into data privacy protections.\n     * @param  {boolean} granted\n     * @returns void\n     */\n    OneSignalPlugin.prototype.setConsentGiven = function (granted) {\n        window.cordova.exec(function () { }, function () { }, \"OneSignalPush\", \"setPrivacyConsentGiven\", [granted]);\n    };\n    ;\n    return OneSignalPlugin;\n}());\nexports.OneSignalPlugin = OneSignalPlugin;\n//-------------------------------------------------------------------\nvar OneSignal = new OneSignalPlugin();\nif (!window.plugins) {\n    window.plugins = {};\n}\nif (!window.plugins.OneSignal) {\n    window.plugins.OneSignal = OneSignal;\n}\n// Exporting\nvar DebugNamespace_2 = require(\"./DebugNamespace\");\nObject.defineProperty(exports, \"LogLevel\", { enumerable: true, get: function () { return DebugNamespace_2.LogLevel; } });\nvar OSNotification_1 = require(\"./OSNotification\");\nObject.defineProperty(exports, \"OSNotification\", { enumerable: true, get: function () { return OSNotification_1.OSNotification; } });\nvar NotificationsNamespace_2 = require(\"./NotificationsNamespace\");\nObject.defineProperty(exports, \"OSNotificationPermission\", { enumerable: true, get: function () { return NotificationsNamespace_2.OSNotificationPermission; } });\nvar NotificationReceivedEvent_1 = require(\"./NotificationReceivedEvent\");\nObject.defineProperty(exports, \"NotificationWillDisplayEvent\", { enumerable: true, get: function () { return NotificationReceivedEvent_1.NotificationWillDisplayEvent; } });\nexports.default = OneSignal;\n","import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nexport function interval(period = 0, scheduler = async) {\n    if (!isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async;\n    }\n    return new Observable(subscriber => {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber, counter: 0, period }));\n        return subscriber;\n    });\n}\nfunction dispatch(state) {\n    const { subscriber, counter, period } = state;\n    subscriber.next(counter);\n    this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"./Subscriber\");\nvar InnerSubscriber = (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        _this.index = 0;\n        return _this;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_1.Subscriber));\nexports.InnerSubscriber = InnerSubscriber;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar canReportError_1 = require(\"./util/canReportError\");\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\nvar observable_1 = require(\"./symbol/observable\");\nvar pipe_1 = require(\"./util/pipe\");\nvar config_1 = require(\"./config\");\nvar Observable = (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError_1.canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config_1.config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError_1.hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"./Subscriber\");\nvar OuterSubscriber = (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_1.Subscriber));\nexports.OuterSubscriber = OuterSubscriber;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_1 = require(\"./util/isFunction\");\nvar Observer_1 = require(\"./Observer\");\nvar Subscription_1 = require(\"./Subscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError_1.hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError_1.hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexports.SafeSubscriber = SafeSubscriber;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"./util/isArray\");\nvar isObject_1 = require(\"./util/isObject\");\nvar isFunction_1 = require(\"./util/isFunction\");\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\nvar Subscription = (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexports.config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = new Error();\n            console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar OuterSubscriber_1 = require(\"../OuterSubscriber\");\nvar InnerSubscriber_1 = require(\"../InnerSubscriber\");\nvar subscribeToResult_1 = require(\"../util/subscribeToResult\");\nfunction catchError(selector) {\n    return function catchErrorOperatorFunction(source) {\n        var operator = new CatchOperator(selector);\n        var caught = source.lift(operator);\n        return (operator.caught = caught);\n    };\n}\nexports.catchError = catchError;\nvar CatchOperator = (function () {\n    function CatchOperator(selector) {\n        this.selector = selector;\n    }\n    CatchOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n    return CatchOperator;\n}());\nvar CatchSubscriber = (function (_super) {\n    __extends(CatchSubscriber, _super);\n    function CatchSubscriber(destination, selector, caught) {\n        var _this = _super.call(this, destination) || this;\n        _this.selector = selector;\n        _this.caught = caught;\n        return _this;\n    }\n    CatchSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var result = void 0;\n            try {\n                result = this.selector(err, this.caught);\n            }\n            catch (err2) {\n                _super.prototype.error.call(this, err2);\n                return;\n            }\n            this._unsubscribeAndRecycle();\n            var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, undefined, undefined);\n            this.add(innerSubscriber);\n            var innerSubscription = subscribeToResult_1.subscribeToResult(this, result, undefined, undefined, innerSubscriber);\n            if (innerSubscription !== innerSubscriber) {\n                this.add(innerSubscription);\n            }\n        }\n    };\n    return CatchSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexports.getSymbolIterator = getSymbolIterator;\nexports.iterator = getSymbolIterator();\nexports.$$iterator = exports.iterator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.observable = (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rxSubscriber = (function () {\n    return typeof Symbol === 'function'\n        ? Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + Math.random();\n})();\nexports.$$rxSubscriber = exports.rxSubscriber;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UnsubscriptionErrorImpl = (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexports.UnsubscriptionError = UnsubscriptionErrorImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber_1.Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\nexports.canReportError = canReportError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\nexports.hostReportError = hostReportError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(x) {\n    return x !== null && typeof x === 'object';\n}\nexports.isObject = isObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isPromise(value) {\n    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\nexports.isPromise = isPromise;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar identity_1 = require(\"./identity\");\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\nfunction pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity_1.identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar subscribeToArray_1 = require(\"./subscribeToArray\");\nvar subscribeToPromise_1 = require(\"./subscribeToPromise\");\nvar subscribeToIterable_1 = require(\"./subscribeToIterable\");\nvar subscribeToObservable_1 = require(\"./subscribeToObservable\");\nvar isArrayLike_1 = require(\"./isArrayLike\");\nvar isPromise_1 = require(\"./isPromise\");\nvar isObject_1 = require(\"./isObject\");\nvar iterator_1 = require(\"../symbol/iterator\");\nvar observable_1 = require(\"../symbol/observable\");\nexports.subscribeTo = function (result) {\n    if (!!result && typeof result[observable_1.observable] === 'function') {\n        return subscribeToObservable_1.subscribeToObservable(result);\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        return subscribeToArray_1.subscribeToArray(result);\n    }\n    else if (isPromise_1.isPromise(result)) {\n        return subscribeToPromise_1.subscribeToPromise(result);\n    }\n    else if (!!result && typeof result[iterator_1.iterator] === 'function') {\n        return subscribeToIterable_1.subscribeToIterable(result);\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subscribeToArray = function (array) { return function (subscriber) {\n    for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n        subscriber.next(array[i]);\n    }\n    subscriber.complete();\n}; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar iterator_1 = require(\"../symbol/iterator\");\nexports.subscribeToIterable = function (iterable) { return function (subscriber) {\n    var iterator = iterable[iterator_1.iterator]();\n    do {\n        var item = void 0;\n        try {\n            item = iterator.next();\n        }\n        catch (err) {\n            subscriber.error(err);\n            return subscriber;\n        }\n        if (item.done) {\n            subscriber.complete();\n            break;\n        }\n        subscriber.next(item.value);\n        if (subscriber.closed) {\n            break;\n        }\n    } while (true);\n    if (typeof iterator.return === 'function') {\n        subscriber.add(function () {\n            if (iterator.return) {\n                iterator.return();\n            }\n        });\n    }\n    return subscriber;\n}; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar observable_1 = require(\"../symbol/observable\");\nexports.subscribeToObservable = function (obj) { return function (subscriber) {\n    var obs = obj[observable_1.observable]();\n    if (typeof obs.subscribe !== 'function') {\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    }\n    else {\n        return obs.subscribe(subscriber);\n    }\n}; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar hostReportError_1 = require(\"./hostReportError\");\nexports.subscribeToPromise = function (promise) { return function (subscriber) {\n    promise.then(function (value) {\n        if (!subscriber.closed) {\n            subscriber.next(value);\n            subscriber.complete();\n        }\n    }, function (err) { return subscriber.error(err); })\n        .then(null, hostReportError_1.hostReportError);\n    return subscriber;\n}; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InnerSubscriber_1 = require(\"../InnerSubscriber\");\nvar subscribeTo_1 = require(\"./subscribeTo\");\nvar Observable_1 = require(\"../Observable\");\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex, innerSubscriber) {\n    if (innerSubscriber === void 0) { innerSubscriber = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex); }\n    if (innerSubscriber.closed) {\n        return undefined;\n    }\n    if (result instanceof Observable_1.Observable) {\n        return result.subscribe(innerSubscriber);\n    }\n    return subscribeTo_1.subscribeTo(result)(innerSubscriber);\n}\nexports.subscribeToResult = subscribeToResult;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\nvar Observer_1 = require(\"../Observer\");\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n"],"names":["ElementRef","NgZone","Geolocation","AutocompleteComponent","Observable","interval","BehaviorSubject","Subscription","onSnapshot","doc","updateDoc","getDoc","collection","setDoc","serverTimestamp","EnrouteChatComponent","Network","AddCardComponent","switchMap","Preferences","i0","HomePage","constructor","authService","router","networkService","map","nav","platform","firestore","database","ngZone","geocode","overlay","modalCtrl","alertController","payME","toastController","actionSheetController","onesignal","initializeApp","ngOnDestroy","window","removeEventListener","ResetMapHeight","bind","clearSubscriptions","unsubscribe","clearPrevMarkers","clearAllPolylines","ionViewDidEnter","EnterBookingStage","ionViewWillLeave","bookingStage","ngAfterViewInit","addEventListener","initializeBackButtonCustomHandler","initializeNetworkMonitoring","fetchSavedPaymentMethods","initializeGeolocation","initializeMap","initializeDatabaseSubscriptions","setupMapListeners","newMap","enableCurrentLocation","price","LatLng","lat","lng","center","radiusInM","fetchAndDisplayDrivers","e","console","error","showAlert","savedPaymentMethods","getSavedPaymentMethods","log","length","selectedCard","cash","cardId","chooseCard","event","detail","value","processPayment","email","amount","showLoader","paymentResult","processPaymentWithCardId","toPromise","errorMessage","showPaymentErrorModal","hideLoader","alert","create","header","message","buttons","text","handler","modal","component","present","data","onWillDismiss","newCardId","role","topBarHeight","bottomBarHeight","topBar","nativeElement","offsetHeight","bottomBar","availableHeight","innerHeight","mapRef","style","height","setMapHeight","setMapHeightCreateAndAddMarkers","setMapHeightHandleDrivertoRider","setMapHeightHandleDrivertoDestination","status","getStatus","isConnected","connected","networkStatus$","next","addListener","subscribe","navigate","ready","then","rideData","getRideState","saveRideState","RIDE_KEY","set","key","JSON","stringify","get","parse","clearRideState","remove","restoreRideState","current_Request_Number","actualDestination","D_LatLng","destinationAddress","setCamera","animate","animationDuration","zoom","coordinate","createAndAddMarkers","stage","setStage","permissionStatus","checkPermissions","location","permissionRequest","requestPermissions","startPermissionPolling","coordinates","getCurrentPosition","coords","latitude","longitude","updateLocation","startPollingPosition","permissionCheckInterval","setInterval","clearInterval","lastLatLng","lastAddress","pollingInterval","position","newLatLng","hasSignificantLocationChange","address","getAddress","results","components","address_components","locationAddress","long_name","actualLocation","formatted_address","stopPolling","err","oldLatLng","minDistance","R","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","distance","stopPollingPosition","createMap","mapy","Error","getKnownPlaces","d","places","slice","backButtonSubscription","backButton","subscribeWithPriority","handleBackButton","mapPinStage","confirmStage","autocompleteStage","searchingStage","noDriverStage","trackingStage","drivingToDestinationStage","showExitConfirmation","goBackToAutoComplete","showCancelSearchConfirmation","showCancelRideConfirmation","showCannotExitAlert","navigator","exitApp","presentCancelRideActionSheet","setOnCameraIdleListener","g","run","showResetLocationButton","addressResponse","processAddressResponse","logout","drivers","checkDriversWithin","handleDrivers","drivers_Requested","UpdateCarMarker","NoDrivers","closeDrivers","forEach","driver","duration","onlineState","push","updateDriverInfo","min","cleanupListeners","Object","values","activeListeners","carname","Driver_car","driverImage","Driver_imgUrl","driver_duration_apart","ceil","driver_ID","Driver_id","driver_number_of_seats","seats","DriverLatLng","Driver_lat","Driver_lng","StartRide","enableTouch","BookRide","clearMarkers","marker1","removeMarker","marker2","toString","_carmarkers","marker","hasValidDriver","userDocRef","docSnapshot","exists","driverInfo","requestRideWithDriverDetails","handleNoAvailableDriver","showNoDriversAlert","requestDetails","latLng","dLatLng","driverId","requestID","RequestRideWithRiderDetails","currentDriver","handlePendingState","rideRequestDocRef","unsub","handleRideUpdates","requestNextDriver","ReturnHome","numCalls","countDown","routeUpdateSubscription","handleRideCancellation","handleRideConfirmation","handleRideStart","handleRideStop","getDriverLocation","clearPolyline","newPoly","handleDriverToRider","EnterSearchingStage","startCountdown","actionSheet","cancelRide","reason","rideRef","rideSnapshot","cancellationReason","canceledBy","cancelledRideRef","cancelledAt","originalRequestId","toast","ClearRide","errorToast","color","stopCountdown","rideHasStarted","handleRiderToDestination","canCheck","EnterDrivingToDestinationStage","createHistory","driverLocation","EnterTrackingStage","catch","EnterChat","options","componentProps","userId","swipeToClose","initialTime","requestId","countdownActive","timeRemaining","updateCountdown","UpdateCountDown","setTimeout","handleCountdownEnd","EnterAutoCompleteStage","ResetState","showAutocompleteModal","rider_marker","clearMarker","driver_marker","destinationMarker","animatedMarker","polyline","removePolylines","warn","pinOnMap","EnterMapPinStage","mapPinDrag","home","searching","AddKnownPlace","full","whole","getLatLng","description","geometry","getDistanceAndDirections","RequestRide","dat","place","EnterNoDriverStage","EnterConfirmStage","origin1","google","maps","origin2","request","origin","destination","travelMode","TravelMode","DRIVING","directions","route","response","direction","routes","legs","bounds","getPriceEstimate","getDistanceAndDirectionsDriver","D_duration","resetLocation","addressComponents","elements","LatLngBounds","driverMap","Map","element","updatedMarkers","id","undefined","latlng","extend","existingMarkerIndex","findIndex","mapDim","width","offsetWidth","minZoom","maxZoom","zoomLevel","getBoundsZoomLevel","max","getCenter","fitBounds","GoHome","GotoSupport","navigateForward","CancelRide","riderCleared","bearing","CallDriver","driverLatLng","riderLatLng","markerSize","iconAnchor","x","y","driverMarker","addMarker","iconUrl","title","iconSize","iconOrigin","riderMarker","user","photoURL","updateRoute","path","overview_path","locs","geoCode","calculateCenter","adjustedZoomLevel","setCameraToLocation","calculateBearing","addPolyline","animateMarker","routeUpdate$","UPDATE_INTERVAL","pipe","destinationLatLng","loc","des","polylineColor","polylines","strokeColor","strokeWeight","geodesic","addedPolylines","addPolylines","Array","isArray","disableTouch","i","Promise","resolve","ShowDriverInfoPop","activeStage","stages","updateStage","oneSignal","OneSignalIOSPermission","selectors","viewQuery","ctx","Capacitor","OneSignal","OSNotificationPermission","environment","HttpHeaders","catchError","of","OnesignalService","alertCtrl","http","OneSignalInit","initialize","appId","playerID","User","getExternalId","myClickListener","notificationData","Notifications","getPlatform","ios_permission","permissionNative","Authorized","OneSignalPermission","requestPermission","msg","hasPermission","permission","canRequestPermission","accepted","alertEl","sendNotification","external_id","body","app_id","name","target_channel","headings","en","contents","android_channel_id","small_icon","large_icon","ios_sound","include_aliases","included_segments","headers","restApiKey","post","factory","providedIn","HttpParams","GeocodeService","client","DistanceMatrixService","DirectionsService","url","apiUrl","params","apiKey","getDirections","from","to","GoogleMap","MapService","ref","config","scaleControl","streetViewControl","rotateControl","fullscreenControl","enableTrafficLayer","points","latitudes","p","longitudes","avgLat","reduce","b","avgLng","WORLD_DIM","ZOOM_MAX","latRad","radX2","mapPx","worldPx","fraction","floor","LN2","ne","getNorthEast","sw","getSouthWest","latFraction","lngDiff","lngFraction","latZoom","lngZoom","start","end","startLat","startLng","endLat","endLng","dLng","NetworkService","networkStatus","asObservable","initializeNetworkListener","handleReconnect","handleDisconnect","checkInitialNetworkStatus","registerPlugin","web","m","GeolocationWeb","CapacitorGoogleMaps","southwest","northeast","contains","point","result","mapBoundsContains","mapBoundsExtend","MapType","CapacitorGoogleMapsWeb","_a","elem","document","elementFromPoint","internalId","dataset","mapInFocus","mapId","dispatchMapEvent","focus","MapCustomElement","HTMLElement","connectedCallback","innerHTML","overflow","overflowDiv","createElement","appendChild","customElements","define","resizeObserver","handleScrollEvent","updateMapBounds","callback","androidLiteMode","elementBounds","getElementBounds","devicePixelRatio","initScrolling","isNativePlatform","getMapBounds","_b","mapRect","getBoundingClientRect","onDisplay","mapBounds","onResize","ionicPage","closest","lastState","isHidden","ResizeObserver","observe","reject","onMapReadyListener","retries","boundsInterval","enableClustering","minClusterSize","disableClustering","res","addMarkers","markers","ids","markerId","removeMarkers","markerIds","addPolygons","polygons","removePolygons","polygonIds","addCircles","circles","removeCircles","circleIds","polylineIds","destroy","disableScrolling","disconnect","removeAllMapListeners","getMapType","type","setMapType","mapType","enableIndoorMaps","enabled","enableAccessibilityElements","setPadding","padding","ionContents","getElementsByTagName","scrollEvents","screen","orientation","onScroll","onCameraIdleListener","generateCallback","setOnBoundsChangedListener","onBoundsChangedListener","setOnCameraMoveStartedListener","onCameraMoveStartedListener","setOnClusterClickListener","onClusterClickListener","setOnClusterInfoWindowClickListener","onClusterInfoWindowClickListener","setOnInfoWindowClickListener","onInfoWindowClickListener","setOnMapClickListener","onMapClickListener","setOnPolygonClickListener","onPolygonClickListener","setOnCircleClickListener","onCircleClickListener","setOnMarkerClickListener","onMarkerClickListener","setOnPolylineClickListener","onPolylineClickListener","setOnMarkerDragStartListener","onMarkerDragStartListener","setOnMarkerDragListener","onMarkerDragListener","setOnMarkerDragEndListener","onMarkerDragEndListener","setOnMyLocationButtonClickListener","onMyLocationButtonClickListener","setOnMyLocationClickListener","onMyLocationClickListener","PreferencesWeb","defineProperty","exports","LogLevel","Debug","prototype","setLogLevel","logLevel","cordova","exec","setAlertLevel","visualLogLevel","default","InAppMessages","_inAppMessageClickListeners","_willDisplayInAppMessageListeners","_didDisplayInAppMessageListeners","_willDismissInAppMessageListeners","_didDismissInAppMessageListeners","_processFunctionList","array","param","listener","_this","inAppMessageClickListener","json","willDisplayCallBackProcessor","didDisplayCallBackProcessor","willDismissInAppMessageProcessor","didDismissInAppMessageCallBackProcessor","index","indexOf","splice","addTrigger","obj","addTriggers","triggers","keys","removeTrigger","removeTriggers","clearTriggers","setPaused","pause","getPaused","LiveActivities","enter","activityId","token","onSuccess","onFailure","exit","setPushToStartToken","activityType","removePushToStartToken","setupDefault","startDefault","attributes","content","Location","setShared","shared","isShared","NotificationWillDisplayEvent","OSNotification_1","require","displayEvent","notification","OSNotification","preventDefault","notificationId","getNotification","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","step","rejected","done","apply","__generator","_","label","sent","t","trys","ops","f","verb","Symbol","iterator","n","v","op","TypeError","call","pop","NotificationReceivedEvent_1","_permissionObserverList","_notificationClickedListeners","_notificationWillDisplayListeners","_setPropertyAndObserver","getPermissionCallback","granted","_permission","getPermissionAsync","fallbackToSettings","fallback","registerForProvisionalAuthorization","clickParsingHandler","foregroundParsingHandler","permissionCallBackProcessor","state","clearAll","removeNotification","removeGroupedNotifications","receivedEvent","additionalData","rawPayload","launchURL","sound","actionButtons","groupKey","ledColor","priority","smallIcon","largeIcon","bigPicture","collapseId","groupMessage","fromProjectNumber","smallIconAccentColor","lockScreenVisibility","androidNotificationId","groupedNotifications","badge","category","threadId","subtitle","templateId","attachments","templateName","mutableContent","badgeIncrement","contentAvailable","relevanceScore","interruptionLevel","display","PushSubscription","_subscriptionObserverList","_setPropertiesAndObserver","getIdCallback","_id","getTokenCallback","_token","getOptedInCallback","_optedIn","subscriptionChange","current","optedIn","enumerable","configurable","getIdAsync","getTokenAsync","getOptedInAsync","subscriptionCallBackProcessor","optIn","optOut","Session","addOutcome","addUniqueOutcome","addOutcomeWithValue","__importDefault","mod","__esModule","PushSubscriptionNamespace_1","pushSubscription","_userStateObserverList","setLanguage","language","addAlias","jsonKeyValue","addAliases","aliases","removeAlias","removeAliases","labels","addEmail","removeEmail","addSms","smsNumber","removeSms","addTag","addTags","tags","convertedTags","removeTag","removeTags","getTags","userCallBackProcessor","getOnesignalId","OneSignalPlugin","UserNamespace_1","DebugNamespace_1","SessionNamespace_1","LocationNamespace_1","InAppMessagesNamespace_1","NotificationsNamespace_1","LiveActivitiesNamespace_1","_appID","observerCallback","login","externalId","setConsentRequired","required","setConsentGiven","plugins","DebugNamespace_2","NotificationsNamespace_2","async","isNumeric","period","scheduler","schedule","subscriber","add","dispatch","counter","__extends","extendStatics","setPrototypeOf","__proto__","hasOwnProperty","__","Subscriber_1","InnerSubscriber","_super","parent","outerValue","outerIndex","_next","notifyNext","_error","notifyError","_complete","notifyComplete","Subscriber","canReportError_1","toSubscriber_1","observable_1","pipe_1","config_1","_isScalar","_subscribe","lift","operator","observable","source","observerOrNext","complete","sink","toSubscriber","useDeprecatedSynchronousErrorHandling","syncErrorThrowable","_trySubscribe","syncErrorThrown","syncErrorValue","canReportError","promiseCtor","getPromiseCtor","subscription","operations","_i","arguments","pipeFromArray","hostReportError_1","empty","closed","hostReportError","OuterSubscriber","innerValue","innerIndex","innerSub","isFunction_1","Observer_1","Subscription_1","rxSubscriber_1","destinationOrNext","isStopped","SafeSubscriber","rxSubscriber","_unsubscribeAndRecycle","_parentOrParents","_parentSubscriber","context","isFunction","_context","__tryOrUnsub","__tryOrSetError","wrappedComplete","fn","_unsubscribe","isArray_1","isObject_1","UnsubscriptionError_1","_subscriptions","errors","parent_1","UnsubscriptionError","flattenUnsubscriptionErrors","len","sub","isObject","concat","teardown","EMPTY","tmp","subscriptions","subscriptionIndex","errs","_enable_super_gross_mode_that_will_cause_bad_things","stack","OuterSubscriber_1","InnerSubscriber_1","subscribeToResult_1","selector","catchErrorOperatorFunction","CatchOperator","caught","CatchSubscriber","err2","innerSubscriber","innerSubscription","subscribeToResult","getSymbolIterator","$$iterator","random","$$rxSubscriber","UnsubscriptionErrorImpl","join","observer","closed_1","identity","isArrayLike","isPromise","identity_1","fns","piped","input","prev","subscribeToArray_1","subscribeToPromise_1","subscribeToIterable_1","subscribeToObservable_1","isArrayLike_1","isPromise_1","iterator_1","subscribeTo","subscribeToObservable","subscribeToArray","subscribeToPromise","subscribeToIterable","iterable","item","return","obs","promise","subscribeTo_1","Observable_1","outerSubscriber","nextOrObserver"],"sourceRoot":"webpack:///","x_google_ignoreList":[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]}